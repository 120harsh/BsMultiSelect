{"version":3,"sources":["../src/BsMultiSelect.es8.js"],"names":[],"mappings":"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","file":"BsMultiSelect.js","sourcesContent":["import $ from 'jquery'\nimport Popper from 'popper.js'\n\n// TODO: try to find convinient way to declare private members. Is it convinient enough to move them into IIFE?\nconst BsMultiSelect = ((window, $, Popper) => {\n    const JQUERY_NO_CONFLICT = $.fn[pluginName];\n    const pluginName = 'dashboardCodeBsMultiSelect';\n    const dataKey = `plugin_${pluginName}`;\n\n    const defFilterInputItemStyleSys = {'display': 'block'};\n    const defSelectedPanelClass = 'form-control btn border';\n    const defFilterInputStyle = {'width': '2ch', 'border': '0', 'padding': '0', 'outline': 'none'};\n    const defSelectedPanelStyle = {'cursor': 'text', 'display': 'flex', \"flex-wrap\": \"wrap\", \"align-items\": \"center\", \"margin-bottom\": \"0px\"};\n    const defSelectedItemClass = 'badge';\n    const defSelectedItemStyle = {'padding-left': '0px', 'padding-bottom': '0px', 'display': 'flex', 'align-items': 'center'};\n    const defRemoveSelectedItemButtonClass = 'close';\n    const defRemoveSelectedItemButtonStyle = {'line-height': '1rem', 'font-size':'1.2rem'};\n    const defaults = {\n        items: [],\n        defaults: [],\n        //usePopper: true,\n        selectedPanelMinHeight: 'calc(2.25rem + 2px)',\n        selectedPanelReadonlyBackgroundColor: '#e9ecef',\n        selectedPanelValidBoxShadow: ' 0 0 0 0.2rem rgba(40, 167, 69, 0.25)',\n        selectedPanelInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',\n        filterInputColor: '#495057',\n        containerClass: 'dashboardcode-bsmultiselect',\n        dropDownMenuClass: 'dropdown-menu',\n        dropDownItemClass: 'px-2',\n        selectedPanelClass: '',\n        selectedPanelReadonlyClass: '',\n        selectedItemClass: '', \n        removeSelectedItemButtonClass: '',\n        filterInputItemClass: '', \n        filterInputClass: ''\n    };\n\n    class Plugin {\n        constructor(element, options) {\n            if (typeof Popper === 'undefined') {\n                throw new TypeError('DashboardCode bsMultiSelect require Popper.js (https://popper.js.org)')\n            }\n\n            // readonly\n            this.element = element;\n            this.options = $.extend({}, defaults, options);\n            this.hiddenSelect = element;\n            this.container = null;\n            this.dropDownMenu = null;\n            this.selectedPanel = null;\n            this.filterInput = null;\n            this.filterInputItem = null;\n            this.popper = null;\n\n            // state\n            this.filterInputItemOffsetLeft = null;\n            this.skipFocusout = false;\n            this.backspaceAtStartPoint = null;\n            this.selectedDropDownItem = null;\n            this.selectedDropDownIndex = null;\n            this.hasItems = false;\n\n            this.init();\n        }\n\n        updateDropDownPosition(force) {\n            //if (this.options.usePopper) {\n            let offsetLeft = this.filterInputItem.offsetLeft;\n            if (force || this.filterInputItemOffsetLeft!=offsetLeft){\n                this.popper.update();\n                this.filterInputItemOffsetLeft=offsetLeft;\n            }\n            // } else {\n            //     $(this.dropDownMenu).dropdown('update');\n            // }\n        }\n\n        hideDropDown() {\n            //if (this.options.usePopper) {\n                $(this.dropDownMenu).removeClass('show')\n            // } else {\n            //     if ($(this.dropDownMenu).hasClass('show'))\n            //         $(this.dropDownMenu).dropdown('toggle');\n            // }\n        }\n\n        showDropDown() {\n                //if (this.options.usePopper) {\n                    this.updateDropDownPosition(true);\n                    $(this.dropDownMenu).addClass('show')\n                // } else {\n                //     if (!$(this.dropDownMenu).hasClass('show'))\n                //         $(this.dropDownMenu).dropdown('toggle');\n                // }\n        }\n\n        setCheck(optionId, isChecked) {\n            for (let i = 0; i < this.hiddenSelect.options.length; i += 1) {\n                let option = this.hiddenSelect.options[i];\n                if (option.value == optionId) {\n                    this.hiddenSelect.options[i].selected = isChecked;\n                    break;\n                }\n            }\n        }\n\n        // Public methods\n        getInputValue() {\n            return $(this.hiddenSelect).val();\n        }\n\n        closeDropDown() {\n            this.resetSelectDropDownMenu();\n            this.clearFilterInput();\n            this.hideDropDown();\n            this.updateDropDownPosition();\n        }\n\n        clearFilterInput(updatePosition) {\n            if (this.filterInput.value != '') {\n                this.filterInput.value = '';\n                this.adoptFilterInputLength();\n                this.filterDropDownMenu();\n                if (updatePosition && this.hasItems) {\n                    this.updateDropDownPosition(false); \n                } \n            }\n        }\n\n        filterDropDownMenu() {\n            let text = this.filterInput.value.trim();\n            let visible = 0;\n            $(this.dropDownMenu).find('li').each((i, item) => {\n                let $item = $(item);\n                if (text == '') {\n                    $item.show();\n                    visible++;\n                }\n                else {\n                    let itemText = $item.text();\n                    let $checkbox = $item.find('input[type=\"checkbox\"]');\n                    \n                    if (!$checkbox.prop('checked') && itemText.toLowerCase().indexOf(text.toLowerCase())>=0) {\n                        $item.show();\n                        visible++;\n                    } else {\n                        $item.hide();\n                    }\n                }\n            });\n            this.hasItems = visible > 0;\n            this.resetSelectDropDownMenu();\n        }\n\n        clickDropDownItem(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            let $menuItem = $(event.currentTarget).closest(\"LI\");\n            let optionId  = $menuItem.data(\"option-id\");\n            let $checkBox = $menuItem.find('input[type=\"checkbox\"]');\n            if ($checkBox.prop('checked')) {\n                let $selectedItem = $(this.selectedPanel).find(`li[data-option-id=\"${optionId}\"]`);\n                this.removeSelectedItem($selectedItem, optionId, $checkBox);\n            } else {\n                let itemText = $menuItem.find('label').text();\n                this.createAndAppendSelectedItem($checkBox, optionId, itemText);\n                $checkBox.prop('checked', true);\n            }\n            this.clearFilterInput(false);\n            this.filterInput.focus();\n        }\n        \n        appendDropDownItem(itemValue, itemText, isChecked) {\n            let optionId = itemValue;\n            let checkBoxId = `dashboardcode-bsmultiselect-${this.hiddenSelect.name.toLowerCase()}-generated-id-${optionId.toLowerCase()}`;\n            let checked = isChecked ? \"checked\" : \"\";\n            let $dropDownItem = $(\n                `<li data-option-id=\"${optionId}\">\n                    <div class=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"${checkBoxId}\" ${checked}>\n                        <label class=\"custom-control-label\" for=\"${checkBoxId}\">${itemText}</label>\n                    </div>\n                 </li>`).addClass(this.options.dropDownItemClass).appendTo($(this.dropDownMenu));\n            \n            let $checkBox = $dropDownItem.find(`input[type=\"checkbox\"]`);\n            if (isChecked) {\n                this.createAndAppendSelectedItem($checkBox, optionId, itemText);\n            }\n        }\n        \n        createAndAppendSelectedItem($checkBox, optionId, itemText) {\n            let $selectedItem = $(`<li data-option-id=\"${optionId}\"><span>${itemText}</span></li>`);\n            if (!this.options.selectedItemClass){\n                $selectedItem.addClass(defSelectedItemClass);\n                $selectedItem.css(defSelectedItemStyle)\n            }else{\n                $selectedItem.addClass(this.options.selectedItemClass);\n            }\n                \n            $selectedItem.insertBefore($(this.filterInputItem));\n            let $buttom = $(\"<button aria-label='Close' tabIndex='-1' type='button'><span aria-hidden='true'>&times;</span></button>\");\n            if (!this.options.removeSelectedItemButtonClass){\n                $buttom.addClass(defRemoveSelectedItemButtonClass);\n                $buttom.css(defRemoveSelectedItemButtonStyle);\n            }\n            else{\n                $buttom.addClass(this.options.removeSelectedItemButtonClass)\n            }\n            \n            $buttom.appendTo($selectedItem); \n            this.setCheck(optionId, true);\n\n            $buttom.click(() => {\n                this.removeSelectedItem($selectedItem, optionId, $checkBox);\n                this.clearFilterInput(true);\n                this.updateDropDownPosition(false);\n                $(this.filterInput).focus();\n            });\n        }\n\n        adoptFilterInputLength() {\n            this.filterInput.style.width = this.filterInput.value.length*1.3 + 2 + \"ch\";\n        }\n\n        analyzeInputText() {\n            let text = this.filterInput.value.trim().toLowerCase();\n            let nodeList = this.dropDownMenu.querySelectorAll(\"LI\");\n            let item = null;\n            for (let i = 0; i < nodeList.length; ++i) {\n                let it = nodeList[i];\n                if (it.textContent.trim().toLowerCase() == text)\n                {\n                    item=it;\n                    break;\n                }\n            }\n            if (item) {\n                let $item = $(item);\n                let $checkBox = $item.find('input[type=\"checkbox\"]');\n                if (!$checkBox.prop('checked')) {\n                    let optionId = $item.data('option-id');\n                    let itemText = $item.find('label').text();\n                    this.createAndAppendSelectedItem($checkBox, optionId, itemText);\n                    $checkBox.prop('checked', true);\n                }\n                this.clearFilterInput(true);\n            }\n        }\n\n        resetSelectDropDownMenu() {\n            if (this.selectedDropDownItem !== null) {\n                this.selectedDropDownItem.classList.remove('bg-light');\n                this.selectedDropDownItem.classList.remove('text-primary');\n                this.selectedDropDownItem = null;\n            }\n            this.selectedDropDownIndex = null;\n        }\n        \n        keydownArrow(down) {\n            let visibleNodeListArray = $(this.dropDownMenu).find('LI:not([style*=\"display: none\"])').toArray();\n            if (visibleNodeListArray.length > 0) {\n                if (this.hasItems) {\n                    this.showDropDown();\n                }\n                if (this.selectedDropDownItem === null) {\n                    this.selectedDropDownIndex = down ? 0 : visibleNodeListArray.length - 1;\n                }\n                else {\n                    // IE10-11 doesn't support multiple arguments in classList remove \n                    this.selectedDropDownItem.classList.remove('bg-light');\n                    this.selectedDropDownItem.classList.remove('text-primary');\n                    if (down) {\n                        let newIndex = this.selectedDropDownIndex + 1;\n                        this.selectedDropDownIndex = newIndex < visibleNodeListArray.length ? newIndex : 0;\n                    } else {\n                        let newIndex = this.selectedDropDownIndex - 1;\n                        this.selectedDropDownIndex = newIndex >= 0 ? newIndex : visibleNodeListArray.length - 1;\n                    }\n                }\n                this.selectedDropDownItem = visibleNodeListArray[this.selectedDropDownIndex];\n                // IE10-11 doesn't support multiple arguments in classList add \n                this.selectedDropDownItem.classList.add('text-primary');\n                this.selectedDropDownItem.classList.add('bg-light');\n            }\n        }\n\n        removeSelectedItem($selectedItem, optionId, $checkBox) {\n            $selectedItem.remove();\n            this.setCheck(optionId, false);\n            $checkBox.prop('checked', false);\n        }\n\n        init() {\n            let $hiddenSelect = $(this.hiddenSelect);\n            $hiddenSelect.hide();\n            let disabled = this.hiddenSelect.disabled;\n\n            let $container = $(\"<div/>\");\n            if (!this.options.containerClass)\n                $container.addClass(this.options.containerClass);\n            $container.insertAfter($hiddenSelect);\n                \n            this.container = $container.get(0);\n\n            let $selectedPanel = $(\"<ul/>\");\n\n            if (!this.options.selectedPanelClass){\n                $selectedPanel.addClass(defSelectedPanelClass);\n                $selectedPanel.css(defSelectedPanelStyle);\n                $selectedPanel.css(\"min-height\", this.options.selectedPanelMinHeight);\n            }\n            else\n                $selectedPanel.addClass(this.options.selectedPanelClass);\n            $selectedPanel.appendTo(this.container);\n            this.selectedPanel = $selectedPanel.get(0);\n\n            if ($hiddenSelect.hasClass(\"is-valid\")){\n                $selectedPanel.removeClass(\"border\");\n                $selectedPanel.addClass(\"is-valid\");\n                //$selectedPanel.removeClass(\"btn-outline-danger\");\n                //$selectedPanel.addClass(\"btn-outline-success\");\n            }\n            \n            if ($hiddenSelect.hasClass(\"is-invalid\")){\n                $selectedPanel.removeClass(\"border\");\n                $selectedPanel.addClass(\"is-invalid\");\n                //$selectedPanel.removeClass(\"btn-outline-success\");\n                //$selectedPanel.addClass(\"btn-outline-danger\");\n            }\n\n            let $filterInputItem = $('<li/>');\n            this.filterInputItem = $filterInputItem.get(0)\n            if (!this.options.filterInputItemClass)\n                $filterInputItem.css(defFilterInputItemStyleSys)\n            else\n                $filterInputItem.addClass(this.options.filterInputItemClass)\n            \n            $filterInputItem.appendTo(this.selectedPanel);\n            \n\n            let $filterInput = $('<input type=\"search\" autocomplete=\"off\">');\n            if (!this.options.filterInputClass){\n                $filterInput.css(defFilterInputStyle);\n                $filterInput.css(\"color\", this.options.filterInputColor);\n            } else {\n                $filterInput.addClass(this.options.filterInputClass);\n            }\n            $filterInput.appendTo(this.filterInputItem);\n            this.filterInput = $filterInput.get(0);\n\n            let $dropDownMenu = $(\"<ul/>\").appendTo($container);\n            this.dropDownMenu = $dropDownMenu.get(0);\n\n            $dropDownMenu.addClass(this.options.dropDownMenuClass);\n            //if (this.options.usePopper) {\n                this.popper = new Popper(this.filterInput, this.dropDownMenu, {\n                    placement: 'bottom-start',\n                    modifiers: {\n                        preventOverflow: {enabled:false},\n                        hide: {enabled:false},\n                        flip: { enabled:false }\n                     }\n                });\n            // } else {\n            //     $(this.dropDownMenu).addClass(\"dropdown dropdown-menu\")\n            //     $(this.dropDownMenu).data(\"\", \"\");\n            //     $(this.dropDownMenu).dropdown({\n            //         placement: 'bottom-start',\n            //         flip: false,\n            //         reference: this.filterInput\n            //     });\n            // }\n            \n            // some browsers (IE11) can change select value (\"autocomplet\") after page is loaded but before \"ready\" event\n            $(document).ready(() => {\n                if (!this.options.items) {\n                    this.options.items.forEach((item) => {\n                        let itemValue = item.value;\n                        let itemText = item.text;\n                        let isChecked = item.isChecked;\n                        this.appendDropDownItem(itemValue, itemText, isChecked);\n                    });\n                    this.hasItems = this.options.items.length > 0;\n                } else {\n                    let selectOptions = $hiddenSelect.find('option');\n                    selectOptions.each(\n                        (index, option) => {\n                            let itemValue = option.value;\n                            let itemText = option.text;\n                            let isChecked = option.selected;\n                            this.appendDropDownItem(itemValue, itemText, isChecked);\n                        }\n                    );\n                    this.hasItems = selectOptions.length > 0;\n                }\n                this.updateDropDownPosition(false);\n\n                $dropDownMenu.find('li').click(event => {\n                    this.clickDropDownItem(event);\n                });\n\n                $dropDownMenu.find(\"li\").on(\"mouseover\", event => {\n                    $(event.target).closest(\"li\").addClass('text-primary').addClass('bg-light')\n                });\n\n                $dropDownMenu.find(\"li\").on(\"mouseout\", event => {\n                    $(event.target).closest(\"li\").removeClass('text-primary').removeClass('bg-light')\n                });\n            });\n\n            if (disabled) {\n                this.filterInput.style.display = \"none\";\n                if(!this.options.selectedPanelReadonlyClass){\n                    $selectedPanel.css({\"background-color\": this.options.selectedPanelReadonlyBackgroundColor});\n                }else{\n                    $selectedPanel.addClass(this.options.selectedPanelReadonlyClass);\n                }\n                $selectedPanel.find('button').prop(\"disabled\", true);\n                $selectedPanel.addClass();\n            } else {\n                let inputId = this.hiddenSelect.id;\n                let $formGroup = $hiddenSelect.closest(\".form-group\");\n                if ($formGroup.length == 1) {\n                    let $label = $formGroup.find(`label[for=\"${inputId}\"]`);\n                    let f = $label.attr(\"for\");\n                    if (f == this.hiddenSelect.id) {\n                        this.filterInput.id = \"dashboardcode-bsmultiselect-generated-filter-id-\" + this.hiddenSelect.id;\n                        $label.attr(\"for\", this.filterInput.id);\n                    }\n                }\n\n                $dropDownMenu.click((event) => {\n                    event.stopPropagation();\n                });\n\n                $dropDownMenu.on(\"mouseover\", () => {\n                    this.resetSelectDropDownMenu();\n                });\n\n                $selectedPanel.click((event) => {\n                    if (event.target.nodeName != \"INPUT\")\n                        $(this.filterInput).val('').focus();\n                    if (!(event.target.nodeName == \"BUTTON\" || (event.target.nodeName == \"SPAN\" && event.target.parentElement.nodeName == \"BUTTON\")) && this.hasItems)\n                        this.showDropDown();\n                });\n\n\n                $filterInput.on(\"keydown\", (event) => {\n                    if (event.which == 38 || event.keyCode == 38) {\n                        event.preventDefault();\n                        this.keydownArrow(false);\n                    }\n                    else if (event.which == 40 || event.keyCode == 40) {\n                        event.preventDefault()\n                        this.keydownArrow(true);\n                    }\n                    else if (event.which == 13 || event.keyCode == 13) {\n                        event.preventDefault();\n                    }\n                    else if (event.which == 9 || event.keyCode == 9) {\n                        if (this.filterInput.value) {\n                            event.preventDefault();\n                        }\n                        else {\n                            this.closeDropDown();\n                        }\n                    }\n                    else {\n                        if (event.which == 8 || event.keyCode == 8) {\n                            // detect that backspace is at start of input field (this will be used at keydown)\n                            this.backspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\n                        }\n                        this.resetSelectDropDownMenu();\n                    }\n                });\n\n                $filterInput.on(\"keyup\", (event) => {\n                    if (event.which == 13 || event.keyCode == 13 || event.which == 9 || event.keyCode == 9) {\n                        if (this.selectedDropDownItem) {\n                            let $item = $(this.selectedDropDownItem);\n                            let $checkBox = $item.find('input[type=\"checkbox\"]');\n                            let optionId = $item.data('option-id');\n                            if (!$checkBox.prop('checked')) {\n                                let itemText = $item.find('label').text();\n                                this.createAndAppendSelectedItem($checkBox, optionId, itemText);\n                                $checkBox.prop('checked', true);\n                                this.resetSelectDropDownMenu();\n                            } else {\n                                let $selectedItem = $(this.selectedPanel).find(`LI[data-option-id=\"${optionId}\"]:first`);\n                                this.removeSelectedItem($selectedItem, optionId, $checkBox);\n                            }\n                            if (event.which == 13 || event.keyCode == 13) {\n                                this.closeDropDown();\n                            }\n                            //this.resetSelectDropDownMenu();\n                        } else {\n                            this.analyzeInputText();\n                        }\n                        if (event.which == 9 || event.keyCode == 9) {\n                            this.closeDropDown();\n                        }\n                    } else if (event.which == 8 || event.keyCode == 8) {\n                        let startPosition = this.filterInput.selectionStart;\n                        let endPosition = this.filterInput.selectionEnd;\n                        if (endPosition == 0 && startPosition == 0 && this.backspaceAtStartPoint) {\n                            let $selectedPanel = $(this.selectedPanel);\n                            let array = $selectedPanel.find(\"LI\").toArray();\n                            if (array.length >= 2) {\n                                let itemToDelete = array[array.length - 2];\n                                let $itemToDelete = $(itemToDelete);\n                                let optionId = $itemToDelete.data(\"option-id\");\n                                let $item = $dropDownMenu.find(`LI[data-option-id=\"${optionId}\"]:first`);\n                                let $checkBox = $item.find('input[type=\"checkbox\"]:first');\n                                let $selectedItem = $selectedPanel.find(`LI[data-option-id=\"${optionId}\"]:first`);\n                                this.removeSelectedItem($selectedItem, optionId, $checkBox);\n                            }\n                        }\n                        this.backspaceAtStartPoint = null;\n                        //if ($dropDownMenu.is(':hidden'))\n                        this.updateDropDownPosition(false);\n                    } else if (event.which == 27 || event.keyCode == 27) { // escape\n                        this.closeDropDown();\n                    }\n                });\n\n                // Set on change for filter input\n                $filterInput.on('input', () => { \n                    this.adoptFilterInputLength();\n                    this.filterDropDownMenu();\n                    if (this.hasItems) {\n                        this.updateDropDownPosition(false); // we need it to support case when textbox changes its place because of line break (texbox grow with each key press)\n                        this.showDropDown();\n                    } else {\n                        this.hideDropDown();\n                    }\n                });\n\n                $filterInput.focusin(() => {\n                    if ($selectedPanel.hasClass(\"is-valid\") &&  this.options.selectedPanelValidBoxShadow){\n                        $selectedPanel.css(\"box-shadow\", this.options.selectedPanelValidBoxShadow);              \n                    } else if ($selectedPanel.hasClass(\"is-invalid\") && this.options.selectedPanelInvalidBoxShadow){\n                        $selectedPanel.css(\"box-shadow\", this.options.selectedPanelInvalidBoxShadow);\n                    }\n                    $(this.selectedPanel).addClass(\"focus\");\n                });\n\n                $filterInput.focusout(() => {\n                    if (!this.skipFocusout) {\n                        $selectedPanel.css(\"box-shadow\", \"\" );                \n                        $(this.selectedPanel).removeClass(\"focus\");\n                    }\n                });\n\n                $container.mousedown(() => {\n                    this.skipFocusout = true;\n                });\n\n                $(window.document).mouseup((event) => {\n                    this.skipFocusout = false;\n                    if (!(this.container === event.target || $.contains(this.container, event.target))) {\n                        this.closeDropDown();\n                    }\n                });\n            }\n        }\n    }\n\n    function jQueryInterface(options) {\n        return this.each(function () {\n            let data = $(this).data(dataKey)\n\n            if (!data) {\n                if (/dispose|hide/.test(options)) {\n                    return;\n                }\n                const optionsObject = (typeof options === 'object')?options:null;\n                data = new Plugin(this, optionsObject);\n                $(this).data(dataKey, data);\n            }\n\n            if (typeof options === 'string') {\n                let methodName = options;\n                if (typeof data[methodName] === 'undefined') {\n                    throw new TypeError(`No method named \"${methodName}\"`)\n                }\n                data[methodName]()\n            }\n        })\n    }\n\n    $.fn[pluginName] = jQueryInterface;\n\n    // in case of mulitple $(this) it will return 1st element plugin instance\n    $.fn[pluginName.charAt(0).toUpperCase() + pluginName.slice(1)] = function () {\n        return $(this).data(\"plugin_\" + pluginName);\n    };\n\n    $.fn[pluginName].Constructor = Plugin;\n\n    $.fn[pluginName].noConflict = function () {\n        $.fn[pluginName] = JQUERY_NO_CONFLICT\n        return jQueryInterface;\n    }\n    return Plugin;\n})(window, $, Popper);\n\nexport default BsMultiSelect;\n"]}