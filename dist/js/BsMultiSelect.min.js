/*!
  * DashboardCode BsMultiSelect v0.4.1-beta (https://dashboardcode.github.io/BsMultiSelect/)
  * Copyright 2017-2019 Roman Pokrovskij (github user rpokrovskij)
  * Licensed under APACHE 2 (https://github.com/DashboardCode/BsMultiSelect/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],t):t((e=e||self).jQuery,e.Popper)}(this,function(e,u){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,u=u&&u.hasOwnProperty("default")?u.default:u;var m=function(){function e(e,t,n,i,o,s,l,r,a,d){if("undefined"==typeof u)throw new TypeError("DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)");this.optionsAdapter=e,this.container=e.container,this.styling=t,this.labelAdapter=o,this.window=a,this.document=a.document,this.onDispose=r,this.createStylingComposite=s,this.configuration=l,this.selectedPanel=null,this.filterInputItem=null,this.filterInput=null,this.dropDownMenu=null,this.popper=null,this.getDisabled=null,this.stylingComposite=null,this.selectedPanelClick=null,this.documentMouseup=null,this.containerMousedown=null,this.documentMouseup2=null,this.disabled=null,this.filterInputItemOffsetLeft=null,this.skipFocusout=!1,this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null,this.hasDropDownVisible=!1,this.selectedItemContentFactory=n,this.dropDownItemContentFactory=i,this.$=d,this.init()}var t=e.prototype;return t.updateDropDownPosition=function(e){var t=this.filterInputItem.offsetLeft;!e&&this.filterInputItemOffsetLeft==t||(this.popper.update(),this.filterInputItemOffsetLeft=t)},t.hideDropDown=function(){this.dropDownMenu.style.display="none"},t.showDropDown=function(){this.dropDownMenu.style.display="block"},t.resetDropDownMenuHover=function(){null!==this.hoveredDropDownItem&&(this.styling.HoverOut(this.hoveredDropDownItem),this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null)},t.filterDropDownMenu=function(){for(var e=this.filterInput.value.trim().toLowerCase(),t=0,n=this.dropDownMenu.getElementsByTagName("LI"),i=0;i<n.length;i++){var o=n[i];if(""==e)o.style.display="block",t++;else{var s=o.MultiSelectData.optionText,l=o.MultiSelectData.option;!l.selected&&!l.hidden&&!l.disabled&&0<=s.indexOf(e)?(o.style.display="block",t++):o.style.display="none"}}if(this.hasDropDownVisible=0<t,this.resetDropDownMenuHover(),1==t){var r=this.getVisibleNodeListArray();this.hoverInInternal(r,0)}},t.clearFilterInput=function(e){this.filterInput.value&&(this.filterInput.value="",this.input(e))},t.closeDropDown=function(){this.resetDropDownMenuHover(),this.clearFilterInput(!0),this.hideDropDown()},t.appendDropDownItem=function(s){var l=this,e=s.hidden,t=s.text,n=this.document.createElement("LI");n.hidden=e;var r={optionText:t.toLowerCase(),option:s,optionToggle:null,optionRemove:null,optionDisable:null};n.MultiSelectData=r,this.dropDownMenu.appendChild(n);var a=this.dropDownItemContentFactory(n,s),i=s.disabled;s.selected&&i?a.disabledStyle(!0):i&&a.disable(i),a.onSelected(function(){(0,n.MultiSelectData.optionToggle)(),l.filterInput.focus()});function d(e){if(!s.hidden){var t=l.document.createElement("LI");t.MultiSelectData=r;var n=function(e,t,n,i){s.selected=e,a.select(e),r.optionToggle=t,r.optionRemove=n,r.optionDisable=i},i=function(){a.disabledStyle(!1),a.disable(s.disabled),n(!1,function(){s.disabled||d(!0)},null,null),t.parentNode.removeChild(t),l.optionsAdapter.triggerChange()},o=l.selectedItemContentFactory(t,s,function(e){setTimeout(function(){i(),l.closeDropDown()},0),l.ProcessedBySelectedItemContentEvent=e});o.disable(l.disabled),n(!0,function(){return i()},function(){i(),l.closeDropDown()},o.disable),l.selectedPanel.insertBefore(t,l.filterInputItem),e&&l.optionsAdapter.triggerChange()}}this.$(n).mouseover(function(){return l.styling.HoverIn(n)}).mouseout(function(){return l.styling.HoverOut(n)}),s.selected?d(!1):r.optionToggle=function(){s.disabled||d(!0)}},t.getVisibleNodeListArray=function(){return this.$(this.dropDownMenu).find('LI:not([style*="display: none"]):not(:hidden)').toArray()},t.hoverInInternal=function(e,t){this.hoveredDropDownIndex=t,this.hoveredDropDownItem=e[t],this.styling.HoverIn(this.hoveredDropDownItem)},t.keydownArrow=function(e){var t=this.getVisibleNodeListArray();if(0<t.length){var n;if(this.hasDropDownVisible&&(this.updateDropDownPosition(!0),this.showDropDown()),null===this.hoveredDropDownItem)n=e?0:t.length-1;else if(this.styling.HoverOut(this.hoveredDropDownItem),e){var i=this.hoveredDropDownIndex+1;n=i<t.length?i:0}else{var o=this.hoveredDropDownIndex-1;n=0<=o?o:t.length-1}this.hoverInInternal(t,n)}},t.input=function(e){this.filterInput.style.width=1.3*this.filterInput.value.length+2+"ch",this.filterDropDownMenu(),this.hasDropDownVisible?(e&&this.updateDropDownPosition(e),this.showDropDown()):this.hideDropDown()},t.Update=function(){this.styling.UpdateIsValid(this.stylingComposite,this.optionsAdapter.getIsValid(),this.optionsAdapter.getIsInvalid()),this.UpdateSize(),this.UpdateDisabled()},t.Dispose=function(){this.onDispose&&this.onDispose(),this.$(this.document).unbind("mouseup",this.documentMouseup).unbind("mouseup",this.documentMouseup2),this.labelAdapter.dispose(),null!==this.popper&&this.popper.destroy(),this.optionsAdapter.dispose&&this.optionsAdapter.dispose()},t.UpdateSize=function(){this.styling.UpdateSize&&this.styling.UpdateSize(this.stylingComposite)},t.UpdateDisabled=function(){function e(e){for(var t=o.selectedPanel.getElementsByTagName("LI"),n=0;n<t.length;n++){var i=t[n];i.MultiSelectData&&i.MultiSelectData.optionDisable(e)}}var o=this,t=this.optionsAdapter.getDisabled();this.disabled!==t&&(t?(this.filterInput.style.display="none",this.styling.Disable(this.stylingComposite),e(!0),this.$(this.container).unbind("mousedown",this.containerMousedown),this.$(this.document).unbind("mouseup",this.documentMouseup),this.$(this.selectedPanel).unbind("click",this.selectedPanelClick),this.$(this.document).unbind("mouseup",this.documentMouseup2)):(this.filterInput.style.display="inline-block",this.styling.Enable(this.stylingComposite),e(!1),this.$(this.container).mousedown(this.containerMousedown),this.$(this.document).mouseup(this.documentMouseup),this.$(this.selectedPanel).click(this.selectedPanelClick),this.$(this.document).mouseup(this.documentMouseup2)),this.disabled=t)},t.init=function(){var l=this,t=this.optionsAdapter.container;this.selectedPanel=this.document.createElement("UL"),function(e){e.display="flex",e.flexWrap="wrap",e.listStyleType="none"}(this.selectedPanel.style),t.appendChild(this.selectedPanel),this.filterInputItem=this.document.createElement("LI"),this.selectedPanel.appendChild(this.filterInputItem),this.filterInput=document.createElement("INPUT"),this.filterInput.setAttribute("type","search"),this.filterInput.setAttribute("autocomplete","off"),function(e){e.width="2ch",e.border="0",e.padding="0",e.outline="none",e.backgroundColor="transparent"}(this.filterInput.style),this.filterInputItem.appendChild(this.filterInput),this.dropDownMenu=document.createElement("UL"),this.dropDownMenu.style.display="none",this.container.appendChild(this.dropDownMenu),function(e){e.listStyleType="none"}(this.dropDownMenu.style),this.documentMouseup=function(){l.skipFocusout=!1},this.containerMousedown=function(){l.skipFocusout=!0},this.documentMouseup2=function(e){t===e.target||t.contains(e.target)||l.closeDropDown()},this.selectedPanelClick=function(e){"INPUT"!=e.target.nodeName&&(l.filterInput.value="",l.filterInput.focus()),!l.hasDropDownVisible||null!=l.ProcessedBySelectedItemContentEvent&&l.ProcessedBySelectedItemContentEvent.originalEvent==e.originalEvent||(l.updateDropDownPosition(!0),l.showDropDown()),l.ProcessedBySelectedItemContentEvent=null},this.stylingComposite=this.createStylingComposite(t,this.selectedPanel,this.filterInputItem,this.filterInput,this.dropDownMenu),this.styling.Init(this.stylingComposite),this.labelAdapter.init(this.filterInput),this.optionsAdapter.afterContainerFilled&&this.optionsAdapter.afterContainerFilled(),this.popper=new u(this.filterInput,this.dropDownMenu,{placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}}}),this.styling.UpdateIsValid(this.stylingComposite,this.optionsAdapter.getIsValid(),this.optionsAdapter.getIsInvalid()),this.UpdateSize(),this.UpdateDisabled();function e(){for(var e=l.optionsAdapter.options,t=0;t<e.length;t++)l.appendDropDownItem(e[t]);l.hasDropDownVisible=0<e.length,l.updateDropDownPosition(!1)}"loading"!=this.document.readyState?e():this.document.addEventListener("DOMContentLoaded",e),this.$(this.dropDownMenu).mouseover(function(){return l.resetDropDownMenuHover()}),this.$(this.filterInput).focusin(function(){return l.styling.FocusIn(l.stylingComposite)}).focusout(function(){l.skipFocusout||l.styling.FocusOut(l.stylingComposite)}),this.$(this.filterInput).on("keydown",function(e){if((0<=[38,40,13].indexOf(e.which)||9==e.which&&l.filterInput.value)&&e.preventDefault(),38==e.which)l.keydownArrow(!1);else if(40==e.which)null===l.hoveredDropDownItem&&l.hasDropDownVisible&&l.showDropDown(),l.keydownArrow(!0);else if(9==e.which)l.filterInput.value||l.closeDropDown();else if(8==e.which&&!l.filterInput.value){var t=l.filterInputItem.previousElementSibling;t&&t.MultiSelectData&&t.MultiSelectData.optionRemove(),l.updateDropDownPosition(!1)}-1==[38,40,13,9].indexOf(e.which)&&l.resetDropDownMenuHover()}),this.$(this.filterInput).on("keyup",function(e){if(13==e.which||9==e.which)if(l.hoveredDropDownItem)l.hoveredDropDownItem.MultiSelectData.optionToggle(),l.closeDropDown();else{for(var t=l.filterInput.value.trim().toLowerCase(),n=l.dropDownMenu.querySelectorAll("LI"),i=null,o=0;o<n.length;++o){var s=n[o];if(s.textContent.trim().toLowerCase()==t){i=s;break}}if(i)i.MultiSelectData.option.selected||i.MultiSelectData.optionToggle(),l.clearFilterInput(!0)}else 27==e.which&&l.closeDropDown()}),this.$(this.filterInput).on("input",function(){l.input(!0)})},e}();function I(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n])}var b={selectedPanelFocusClass:"focus",selectedPanelDisabledClass:"disabled",dropDownItemDisabledClass:"disabled"};var w={"margin-bottom":"0",height:"auto"},g={selectedPanelDefMinHeight:"calc(2.25rem + 2px)",selectedPanelLgMinHeight:"calc(2.875rem + 2px)",selectedPanelSmMinHeight:"calc(1.8125rem + 2px)",selectedPanelDisabledBackgroundColor:"#e9ecef",selectedPanelFocusBorderColor:"#80bdff",selectedPanelFocusBoxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",selectedPanelFocusValidBoxShadow:"0 0 0 0.2rem rgba(40, 167, 69, 0.25)",selectedPanelFocusInvalidBoxShadow:"0 0 0 0.2rem rgba(220, 53, 69, 0.25)",filterInputColor:"#495057"};var C={containerClass:"dashboardcode-bsmultiselect",dropDownMenuClass:"dropdown-menu",dropDownItemClass:"px-2",dropDownItemHoverClass:"text-primary bg-light",selectedPanelClass:"form-control",selectedItemClass:"badge",removeSelectedItemButtonClass:"close",filterInputItemClass:"",filterInputClass:""};var v,y,P={"padding-left":"0px","line-height":"1.5em"},M={"font-size":"1.5em","line-height":".9em"};v=window,function(e,s,l){var t=e.charAt(0),n=t.toLowerCase();if(n==t)throw new TypeError("Plugin name '"+e+"' should be started from upper case char");var i=n+e.slice(1),o=l.fn[i],r="DashboardCode."+e;function a(o){return this.each(function(){var e=l(this),t=e.data(r),n="string"==typeof o;if(!t){if(n&&/Dispose/.test(o))return;t=s(this,"object"==typeof o?o:null,function(){e.removeData(r)}),e.data(r,t)}if(n){var i=o;if("undefined"==typeof t[i])throw new TypeError("No method named '"+i+"'");t[i]()}})}l.fn[i]=a,l.fn[e]=function(){return l(this).data(r)},l.fn[i].noConflict=function(){return l.fn[i]=o,a}}("BsMultiSelect",function(e,t,n){var i=y.extend({},t);i.buildConfiguration&&i.buildConfiguration(e,i);var o=y(e),s=null;if(i.optionsAdapter)s=i.optionsAdapter;else{var l=function(e){o.trigger(e)};if(i.options)s=function(e,t,n,i,o,s){return{container:e,options:t,dispose:function(){for(;e.firstChild;)e.removeChild(e.firstChild)},triggerChange:function(){s("multiselect:change")},getDisabled:function(){return!!n&&n()},getIsValid:function(){return!!i&&i()},getIsInvalid:function(){return!!o&&o()}}}(e,i.options,i.getDisabled,i.getIsValid,i.getIsInvalid,l),i.createInputId||(i.createInputId=function(){return i.containerClass+"-generated-filter-"+e.id});else{if(!i.label){var r=y(e).closest(".form-group");if(1==r.length){var a=r.find('label[for="'+e.id+'"]');if(0<a.length){var d=a.get(0);d.getAttribute("for")==e.id&&(i.label=d)}}}s=function(e,t){e.style.display="none";var n=document.createElement("div"),i=e.getElementsByTagName("OPTION");return{container:n,options:i,dispose:function(){n.parentNode.removeChild(n)},afterContainerFilled:function(){e.parentNode.insertBefore(n,e.nextSibling)},triggerChange:function(){t("change"),t("multiselect:change")},getDisabled:function(){return e.disabled},getIsValid:function(){return e.classList.contains("is-valid")},getIsInvalid:function(){return e.classList.contains("is-invalid")}}}(e,l),i.createInputId||(i.createInputId=function(){return i.containerClass+"-generated-input-"+(e.id?e.id:e.name).toLowerCase()+"-id"})}}var u=function(n,i){var o=null;return{init:function(e){if(n){o=n.getAttribute("for");var t=i();e.setAttribute("id",t),n.setAttribute("for",t)}},dispose:function(){o&&n.setAttribute("for",o)}}}(i.label,i.createInputId),c=null;c=i.adapter?i.adapter:function(t,n,i){return I(n,C),{Init:function(e){e.$container.addClass(n.containerClass),e.$selectedPanel.addClass(n.selectedPanelClass),e.$dropDownMenu.addClass(n.dropDownMenuClass),e.$filterInputItem.addClass(n.filterInputItemClass),e.$filterInput.addClass(n.filterInputClass),t.OnInit&&t.OnInit(e)},UpdateIsValid:function(e,t,n){t&&e.$selectedPanel.addClass("is-valid"),n&&e.$selectedPanel.addClass("is-invalid")},UpdateSize:function(e){t.UpdateSize&&t.UpdateSize(e.$selectedPanel)},Enable:function(e){t.Enable(e.$selectedPanel)},Disable:function(e){t.Disable(e.$selectedPanel)},FocusIn:function(e){t.FocusIn(e.$selectedPanel)},FocusOut:function(e){t.FocusOut(e.$selectedPanel)},HoverIn:function(e){i(e).addClass(n.dropDownItemHoverClass)},HoverOut:function(e){i(e).removeClass(n.dropDownItemHoverClass)}}}(i.useCss?function(t){return I(t,b),{Enable:function(e){e.removeClass(t.selectedPanelDisabledClass)},Disable:function(e){e.addClass(t.selectedPanelDisabledClass)},FocusIn:function(e){e.addClass(t.selectedPanelFocusClass)},FocusOut:function(e){e.removeClass(t.selectedPanelFocusClass)}}}(i):function(t){return I(t,g),{OnInit:function(e){e.$selectedPanel.css(w),e.$filterInput.css("color",t.filterInputColor)},UpdateSize:function(e){e.hasClass("form-control-lg")?e.css("min-height",t.selectedPanelLgMinHeight):e.hasClass("form-control-sm")?e.css("min-height",t.selectedPanelSmMinHeight):e.css("min-height",t.selectedPanelDefMinHeight)},Enable:function(e){e.css("background-color","")},Disable:function(e){e.css("background-color",t.selectedPanelDisabledBackgroundColor)},FocusIn:function(e){e.hasClass("is-valid")?e.css("box-shadow",t.selectedPanelFocusValidBoxShadow):e.hasClass("is-invalid")?e.css("box-shadow",t.selectedPanelFocusInvalidBoxShadow):e.css("box-shadow",t.selectedPanelFocusBoxShadow).css("border-color",t.selectedPanelFocusBorderColor)},FocusOut:function(e){e.css("box-shadow","").css("border-color","")}}}(i),i,y);var p=i.useCss?function(t){return I(t,{selectedItemContentDisabledClass:"disabled"}),{disableSelectedItemContent:function(e){e.addClass(t.selectedItemContentDisabledClass)}}}(i):function(t){return I(t,{selectedItemContentDisabledOpacity:".65"}),{disableSelectedItemContent:function(e){e.css("opacity",t.selectedItemContentDisabledOpacity)},createSelectedItemContent:function(e,t){e.css(P),t&&t.css(M)}}}(i),h=i.useCss?function(i){return I(i,{selectedItemContentDisabledClass:"disabled"}),{disabledStyle:function(e,t,n){n?e.addClass(i.dropDownItemDisabledClass):e.removeClass(i.dropDownItemDisabledClass)}}}(i):function(i){return I(i,{selectedItemContentDisabledOpacity:".65",dropdDownLabelDisabledColor:"#6c757d"}),{disabledStyle:function(e,t,n){t.css("color",n?i.dropdDownLabelDisabledColor:"")}}}(i),f=function(l,r,a){return I(r,{selectedItemClass:"badge",removeSelectedItemButtonClass:"close"}),function(e,t,n){var i=a(e);i.addClass(r.selectedItemClass);var o=a("<span/>").text(t.text);o.appendTo(i),t.disabled&&l.disableSelectedItemContent(o);var s=a('<button aria-label="Close" tabIndex="-1" type="button"><span aria-hidden="true">&times;</span></button>').css("float","none").appendTo(i).addClass(r.removeSelectedItemButtonClass).on("click",function(e){return n(e)});return l.createSelectedItemContent&&l.createSelectedItemContent(i,s),{disable:function(e){s.prop("disabled",e)}}}}(p,i,y),D=function(l,r,a){return I(r,{dropDownItemClass:"px-2"}),function(n,e){var i=a(n);i.addClass(r.dropDownItemClass);var t=a('<div class="custom-control custom-checkbox">\n                    <input type="checkbox" class="custom-control-input">\n                    <label class="custom-control-label"></label>\n                </div>');t.appendTo(n);var o=t.find('INPUT[type="checkbox"]'),s=t.find("label");return s.text(e.text),{select:function(e){o.prop("checked",e)},disable:function(e){o.prop("disabled",e)},disabledStyle:function(e){l.disabledStyle(o,s,e)},onSelected:function(t){o.on("change",t),i.on("click",function(e){n!==e.target&&!a.contains(n,e.target)||t()})}}}}(h,i,y);return new m(s,c,f,D,u,function(e,t,n,i,o){return{$container:y(e),$selectedPanel:y(t),$filterInputItem:y(n),$filterInput:y(i),$dropDownMenu:y(o)}},i,n,v,y)},y=e)});
//# sourceMappingURL=BsMultiSelect.min.js.map