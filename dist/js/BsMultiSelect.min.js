/*!
  * DashboardCode BsMultiSelect v0.4.1-beta (https://dashboardcode.github.io/BsMultiSelect/)
  * Copyright 2017-2019 Roman Pokrovskij (github user rpokrovskij)
  * Licensed under APACHE 2 (https://github.com/DashboardCode/BsMultiSelect/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],t):t((e=e||self).jQuery,e.Popper)}(this,function(e,d){"use strict";function D(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n])}e=e&&e.hasOwnProperty("default")?e.default:e,d=d&&d.hasOwnProperty("default")?d.default:d;var I={selectedPanelFocusClass:"focus",selectedPanelDisabledClass:"disabled",dropDownItemDisabledClass:"disabled"};var m={"margin-bottom":"0",height:"auto"},b={selectedPanelDefMinHeight:"calc(2.25rem + 2px)",selectedPanelLgMinHeight:"calc(2.875rem + 2px)",selectedPanelSmMinHeight:"calc(1.8125rem + 2px)",selectedPanelDisabledBackgroundColor:"#e9ecef",selectedPanelFocusBorderColor:"#80bdff",selectedPanelFocusBoxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",selectedPanelFocusValidBoxShadow:"0 0 0 0.2rem rgba(40, 167, 69, 0.25)",selectedPanelFocusInvalidBoxShadow:"0 0 0 0.2rem rgba(220, 53, 69, 0.25)",filterInputColor:"#495057"};var a={display:"flex","flex-wrap":"wrap","list-style-type":"none"},r={width:"2ch",border:"0",padding:"0",outline:"none","background-color":"transparent"},u={"list-style-type":"none"},w=function(){function e(e,t,n,o,i,s,a,l,r){if("undefined"==typeof d)throw new TypeError("DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)");this.optionsAdapter=e,this.container=e.container,this.adapter=t,this.labelAdapter=i,this.window=l,this.document=l.document,this.onDispose=a,this.$=r,this.configuration=s,this.selectedPanel=null,this.filterInputItem=null,this.filterInput=null,this.dropDownMenu=null,this.popper=null,this.getDisabled=null,this.selectedPanelClick=null,this.documentMouseup=null,this.containerMousedown=null,this.documentMouseup2=null,this.disabled=null,this.filterInputItemOffsetLeft=null,this.skipFocusout=!1,this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null,this.hasDropDownVisible=!1,this.selectedItemContentFactory=n,this.dropDownItemContentFactory=o,this.$document=r(this.document),this.init()}var t=e.prototype;return t.updateDropDownPosition=function(e){var t=this.filterInputItem.offsetLeft;!e&&this.filterInputItemOffsetLeft==t||(this.popper.update(),this.filterInputItemOffsetLeft=t)},t.hideDropDown=function(){this.dropDownMenu.style.display="none"},t.showDropDown=function(){this.dropDownMenu.style.display="block"},t.resetDropDownMenuHover=function(){null!==this.hoveredDropDownItem&&(this.adapter.HoverOut(this.$(this.hoveredDropDownItem)),this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null)},t.filterDropDownMenu=function(){var s=this,a=this.filterInput.value.trim().toLowerCase(),l=0;if(this.$(this.dropDownMenu).find("LI").each(function(e,t){var n=s.$(t);if(""==a)n.show(),l++;else{var o=n.data("option-text"),i=n.data("option");!i.selected&&!i.hidden&&!i.disabled&&0<=o.indexOf(a)?(n.show(),l++):n.hide()}}),this.hasDropDownVisible=0<l,this.resetDropDownMenuHover(),1==l){var e=this.getVisibleNodeListArray();this.hoverInInternal(e,0)}},t.clearFilterInput=function(e){this.filterInput.value&&(this.filterInput.value="",this.input(e))},t.closeDropDown=function(){this.resetDropDownMenuHover(),this.clearFilterInput(!0),this.hideDropDown()},t.appendDropDownItem=function(a){var l=this,e=a.hidden,t=a.text,r=this.$("<LI/>").prop("hidden",e);r.data("option-text",t.toLowerCase()).appendTo(this.dropDownMenu),r.data("option",a);var n=r.get(0),d=this.dropDownItemContentFactory(n,a),o=a.disabled;a.selected&&o?d.disabledStyle(!0):o&&d.disable(o),d.onSelected(function(){r.data("option-toggle")(),l.filterInput.focus()});function u(e){if(!a.hidden){var i=l.$("<LI/>"),t=i.get(0),n=function(e,t,n,o){a.selected=e,d.select(e),r.data("option-toggle",t),i.data("option-remove",n),i.data("option-disable",o)},o=function(){d.disabledStyle(!1),d.disable(a.disabled),n(!1,function(){a.disabled||u(!0)},null,null),i.remove(),l.optionsAdapter.triggerChange()},s=l.selectedItemContentFactory(t,a,function(e){setTimeout(function(){o(),l.closeDropDown()},0),l.ProcessedBySelectedItemContentEvent=e});s.disable(l.disabled),n(!0,function(){return o()},function(){o(),l.closeDropDown()},s.disable),i.insertBefore(l.filterInputItem),e&&l.optionsAdapter.triggerChange()}}r.mouseover(function(){return l.adapter.HoverIn(r)}).mouseout(function(){return l.adapter.HoverOut(r)}),a.selected?u(!1):r.data("option-toggle",function(){a.disabled||u(!0)})},t.getVisibleNodeListArray=function(){return this.$(this.dropDownMenu).find('LI:not([style*="display: none"]):not(:hidden)').toArray()},t.hoverInInternal=function(e,t){this.hoveredDropDownIndex=t,this.hoveredDropDownItem=e[t],this.adapter.HoverIn(this.$(this.hoveredDropDownItem))},t.keydownArrow=function(e){var t=this.getVisibleNodeListArray();if(0<t.length){var n;if(this.hasDropDownVisible&&(this.updateDropDownPosition(!0),this.showDropDown()),null===this.hoveredDropDownItem)n=e?0:t.length-1;else if(this.adapter.HoverOut(this.$(this.hoveredDropDownItem)),e){var o=this.hoveredDropDownIndex+1;n=o<t.length?o:0}else{var i=this.hoveredDropDownIndex-1;n=0<=i?i:t.length-1}this.hoverInInternal(t,n)}},t.input=function(e){this.filterInput.style.width=1.3*this.filterInput.value.length+2+"ch",this.filterDropDownMenu(),this.hasDropDownVisible?(e&&this.updateDropDownPosition(e),this.showDropDown()):this.hideDropDown()},t.Update=function(){var e=this.$(this.selectedPanel);this.adapter.UpdateIsValid(e,this.optionsAdapter.getIsValid(),this.optionsAdapter.getIsInvalid()),this.UpdateSizeImpl(e),this.UpdateDisabledImpl(this.$(this.optionsAdapter.container),e)},t.Dispose=function(){this.onDispose&&this.onDispose(),this.$document.unbind("mouseup",this.documentMouseup).unbind("mouseup",this.documentMouseup2),this.labelAdapter.dispose(),null!==this.popper&&this.popper.destroy(),this.optionsAdapter.dispose&&this.optionsAdapter.dispose()},t.UpdateSize=function(){this.UpdateSizeImpl(this.$(this.selectedPanel))},t.UpdateDisabled=function(){this.UpdateDisabledImpl(this.$(this.container),this.$(this.selectedPanel))},t.UpdateSizeImpl=function(e){this.adapter.UpdateSize&&this.adapter.UpdateSize(e)},t.UpdateDisabledImpl=function(e,t){var n=this.optionsAdapter.getDisabled();this.disabled!==n&&(n?(this.filterInput.style.display="none",this.adapter.Disable(t),t.find("LI").each(function(e,t){var n=$(t).data("option-disable");null!=n&&n(!0)}),e.unbind("mousedown",this.containerMousedown),this.$document.unbind("mouseup",this.documentMouseup),t.unbind("click",this.selectedPanelClick),this.$document.unbind("mouseup",this.documentMouseup2)):(this.filterInput.style.display="inline-block",this.adapter.Enable(t),t.find("LI").each(function(e,t){var n=$(t).data("option-disable");null!=n&&n(!1)}),e.mousedown(this.containerMousedown),this.$document.mouseup(this.documentMouseup),t.click(this.selectedPanelClick),this.$document.mouseup(this.documentMouseup2)),this.disabled=n)},t.init=function(){var l=this,t=this.optionsAdapter.container,e=this.$(t);this.selectedPanel=this.document.createElement("ul");var n=this.$(this.selectedPanel);n.css(a),n.appendTo(t);var o=this.$("<LI/>");this.filterInputItem=o.get(0),o.appendTo(this.selectedPanel);var i=this.$('<INPUT type="search" autocomplete="off">');this.filterInput=i.get(0),i.css(r),i.appendTo(this.filterInputItem);var s=this.$("<UL/>").css({display:"none"});s.appendTo(t),this.dropDownMenu=s.get(0),s.css(u),this.documentMouseup=function(){l.skipFocusout=!1},this.containerMousedown=function(){l.skipFocusout=!0},this.documentMouseup2=function(e){t===e.target||l.$.contains(t,e.target)||l.closeDropDown()},this.selectedPanelClick=function(e){"INPUT"!=e.target.nodeName&&l.$(l.filterInput).val("").focus(),!l.hasDropDownVisible||null!=l.ProcessedBySelectedItemContentEvent&&l.ProcessedBySelectedItemContentEvent.originalEvent==e.originalEvent||(l.updateDropDownPosition(!0),l.showDropDown()),l.ProcessedBySelectedItemContentEvent=null},this.adapter.Init({container:e,selectedPanel:n,filterInputItem:o,filterInput:i,dropDownMenu:s}),this.labelAdapter.init(i),this.optionsAdapter.afterContainerFilled&&this.optionsAdapter.afterContainerFilled(),this.popper=new d(this.filterInput,this.dropDownMenu,{placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}}}),this.adapter.UpdateIsValid(n,this.optionsAdapter.getIsValid(),this.optionsAdapter.getIsInvalid()),this.UpdateSizeImpl(n),this.UpdateDisabledImpl(e,n),this.$(function(){var e=l.optionsAdapter.options;l.$.each(e,function(e,t){l.appendDropDownItem(t)}),l.hasDropDownVisible=0<e.length,l.updateDropDownPosition(!1)}),s.mouseover(function(){return l.resetDropDownMenuHover()}),i.focusin(function(){return l.adapter.FocusIn(n)}).focusout(function(){l.skipFocusout||l.adapter.FocusOut(n)}),i.on("keydown",function(e){if((0<=[38,40,13].indexOf(e.which)||9==e.which&&l.filterInput.value)&&e.preventDefault(),38==e.which)l.keydownArrow(!1);else if(40==e.which)null===l.hoveredDropDownItem&&l.hasDropDownVisible&&l.showDropDown(),l.keydownArrow(!0);else if(9==e.which)l.filterInput.value||l.closeDropDown();else if(8==e.which&&!l.filterInput.value){var t=l.$(l.selectedPanel).find("LI:last").prev();if(t.length)t.data("option-remove")();l.updateDropDownPosition(!1)}-1==[38,40,13,9].indexOf(e.which)&&l.resetDropDownMenuHover()}),i.on("keyup",function(e){if(13==e.which||9==e.which)if(l.hoveredDropDownItem){l.$(l.hoveredDropDownItem).data("option-toggle")(),l.closeDropDown()}else{for(var t=l.filterInput.value.trim().toLowerCase(),n=l.dropDownMenu.querySelectorAll("LI"),o=null,i=0;i<n.length;++i){var s=n[i];if(s.textContent.trim().toLowerCase()==t){o=s;break}}if(o){var a=l.$(o);if(!a.data("option").selected)a.data("option-toggle")();l.clearFilterInput(!0)}}else 27==e.which&&l.closeDropDown()}),i.on("input",function(){l.input(!0)})},e}();var n={containerClass:"dashboardcode-bsmultiselect",dropDownMenuClass:"dropdown-menu",dropDownItemClass:"px-2",dropDownItemHoverClass:"text-primary bg-light",selectedPanelClass:"form-control",selectedItemClass:"badge",removeSelectedItemButtonClass:"close",filterInputItemClass:"",filterInputClass:""},v=function(){function e(e,t){this.stylingMethod=e,this.configuration=function(e,t){return D(e,t),e}(t,n)}var t=e.prototype;return t.Init=function(e){e.container.addClass(this.configuration.containerClass),e.selectedPanel.addClass(this.configuration.selectedPanelClass),e.dropDownMenu.addClass(this.configuration.dropDownMenuClass),e.filterInputItem.addClass(this.configuration.filterInputItemClass),e.filterInput.addClass(this.configuration.filterInputClass),this.stylingMethod.OnInit&&this.stylingMethod.OnInit(e)},t.UpdateIsValid=function(e,t,n){t&&e.addClass("is-valid"),n&&e.addClass("is-invalid")},t.UpdateSize=function(e){this.stylingMethod.UpdateSize&&this.stylingMethod.UpdateSize(e)},t.HoverIn=function(e){e.addClass(this.configuration.dropDownItemHoverClass)},t.HoverOut=function(e){e.removeClass(this.configuration.dropDownItemHoverClass)},t.Enable=function(e){this.stylingMethod.Enable(e)},t.Disable=function(e){this.stylingMethod.Disable(e)},t.FocusIn=function(e){this.stylingMethod.FocusIn(e)},t.FocusOut=function(e){this.stylingMethod.FocusOut(e)},e}();var g,C,y={"padding-left":"0px","line-height":"1.5em"},P={"font-size":"1.5em","line-height":".9em"};g=window,function(e,s,a){var t=e.charAt(0),n=t.toLowerCase();if(n==t)throw new TypeError("Plugin name '"+e+"' should be started from upper case char");var o=n+e.slice(1),i=a.fn[o],l="DashboardCode."+e;function r(i){return this.each(function(){var e=a(this),t=e.data(l),n="string"==typeof i;if(!t){if(n&&/Dispose/.test(i))return;t=s(this,"object"==typeof i?i:null,function(){e.removeData(l)}),e.data(l,t)}if(n){var o=i;if("undefined"==typeof t[o])throw new TypeError("No method named '"+o+"'");t[o]()}})}a.fn[o]=r,a.fn[e]=function(){return a(this).data(l)},a.fn[o].noConflict=function(){return a.fn[o]=i,r}}("BsMultiSelect",function(e,t,n){var o=C.extend({},t);o.buildConfiguration&&o.buildConfiguration(e,o);var i=null;if(o.optionsAdapter)i=o.optionsAdapter;else if(o.options)i=function(e,t,n,o,i,s){var a=s(e);return{container:e,options:t,dispose:function(){for(;e.firstChild;)e.removeChild(e.firstChild)},triggerChange:function(){a.trigger("multiselect:change")},getDisabled:function(){return!!n&&n()},getIsValid:function(){return!!o&&o()},getIsInvalid:function(){return!!i&&i()}}}(e,o.options,o.getDisabled,o.getIsValid,o.getIsInvalid,C),o.createInputId||(o.createInputId=function(){return o.containerClass+"-generated-filter-"+e.id});else{if(!o.label){var s=C(e).closest(".form-group");if(1==s.length){var a=s.find('label[for="'+e.id+'"]');if(0<a.length){var l=a.get(0);l.getAttribute("for")==e.id&&(o.label=l)}}}i=function(e,t){var n=t(e);e.style.display="none";var o=document.createElement("div"),i=n.find("OPTION");return{container:o,options:i,dispose:function(){o.parentNode.removeChild(o)},afterContainerFilled:function(){e.parentNode.insertBefore(o,e.nextSibling)},triggerChange:function(){n.trigger("change"),n.trigger("multiselect:change")},getDisabled:function(){return e.disabled},getIsValid:function(){return e.classList.contains("is-valid")},getIsInvalid:function(){return e.classList.contains("is-invalid")}}}(e,C),o.createInputId||(o.createInputId=function(){return o.containerClass+"-generated-input-"+(e.id?e.id:e.name).toLowerCase()+"-id"})}var r=function(n,o){var e=null!=n?n.getAttribute("for"):null;return{init:function(e){if(null!=n){var t=o();e.attr("id",t),n.setAttribute("for",t)}},dispose:function(){e&&n.setAttribute("for",e)}}}(o.label,o.createInputId),d=null;if(o.adapter)d=o.adapter;else{var u=o.useCss?function(t){return D(t,I),{Enable:function(e){e.removeClass(t.selectedPanelDisabledClass)},Disable:function(e){e.addClass(t.selectedPanelDisabledClass)},FocusIn:function(e){e.addClass(t.selectedPanelFocusClass)},FocusOut:function(e){e.removeClass(t.selectedPanelFocusClass)}}}(o):function(t){return D(t,b),{OnInit:function(e){e.selectedPanel.css(m),e.filterInput.css("color",t.filterInputColor)},UpdateSize:function(e){e.hasClass("form-control-lg")?e.css("min-height",t.selectedPanelLgMinHeight):e.hasClass("form-control-sm")?e.css("min-height",t.selectedPanelSmMinHeight):e.css("min-height",t.selectedPanelDefMinHeight)},Enable:function(e){e.css("background-color","")},Disable:function(e){e.css("background-color",t.selectedPanelDisabledBackgroundColor)},FocusIn:function(e){e.hasClass("is-valid")?e.css("box-shadow",t.selectedPanelFocusValidBoxShadow):e.hasClass("is-invalid")?e.css("box-shadow",t.selectedPanelFocusInvalidBoxShadow):e.css("box-shadow",t.selectedPanelFocusBoxShadow).css("border-color",t.selectedPanelFocusBorderColor)},FocusOut:function(e){e.css("box-shadow","").css("border-color","")}}}(o);d=new v(u,o)}var c=o.useCss?function(t){return D(t,{selectedItemContentDisabledClass:"disabled"}),{disableSelectedItemContent:function(e){e.addClass(t.selectedItemContentDisabledClass)}}}(o):function(t){return D(t,{selectedItemContentDisabledOpacity:".65"}),{disableSelectedItemContent:function(e){e.css("opacity",t.selectedItemContentDisabledOpacity)},createSelectedItemContent:function(e,t){e.css(y),t&&t.css(P)}}}(o),p=o.useCss?function(o){return D(o,{selectedItemContentDisabledClass:"disabled"}),{disabledStyle:function(e,t,n){n?e.addClass(o.dropDownItemDisabledClass):e.removeClass(o.dropDownItemDisabledClass)}}}(o):function(o){return D(o,{selectedItemContentDisabledOpacity:".65",dropdDownLabelDisabledColor:"#6c757d"}),{disabledStyle:function(e,t,n){t.css("color",n?o.dropdDownLabelDisabledColor:"")}}}(o),h=function(a,l,r){return D(l,{selectedItemClass:"badge",removeSelectedItemButtonClass:"close"}),function(e,t,n){var o=r(e);o.addClass(l.selectedItemClass);var i=r("<span/>").text(t.text);i.appendTo(o),t.disabled&&a.disableSelectedItemContent(i);var s=r('<button aria-label="Close" tabIndex="-1" type="button"><span aria-hidden="true">&times;</span></button>').css("float","none").appendTo(o).addClass(l.removeSelectedItemButtonClass).on("click",function(e){return n(e)});return a.createSelectedItemContent&&a.createSelectedItemContent(o,s),{disable:function(e){s.prop("disabled",e)}}}}(c,o,C),f=function(a,l,r){return D(l,{dropDownItemClass:"px-2"}),function(n,e){var o=r(n);o.addClass(l.dropDownItemClass);var t=r('<div class="custom-control custom-checkbox">\n                    <input type="checkbox" class="custom-control-input">\n                    <label class="custom-control-label"></label>\n                </div>');t.appendTo(n);var i=t.find('INPUT[type="checkbox"]'),s=t.find("label");return s.text(e.text),{select:function(e){i.prop("checked",e)},disable:function(e){i.prop("disabled",e)},disabledStyle:function(e){a.disabledStyle(i,s,e)},onSelected:function(t){i.on("change",t),o.on("click",function(e){n!==e.target&&!r.contains(n,e.target)||t()})}}}}(p,o,C);return new w(i,d,h,f,r,o,n,g,C)},C=e)});
//# sourceMappingURL=BsMultiSelect.min.js.map