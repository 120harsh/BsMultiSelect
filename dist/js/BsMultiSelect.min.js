/*!
  * DashboardCode BsMultiSelect v0.1.18 (https://dashboardcode.github.io/BsMultiSelect/)
  * Copyright 2017-2018 Roman Pokrovskij (github user rpokrovskij)
  * Licensed under APACHE 2 (https://github.com/DashboardCode/BsMultiSelect/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],t):e.BsMultiSelect=t(e.jQuery,e.Popper)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var s=function(){function e(e,t,o){this.$=e,this.hiddenSelect=t,this.dropDownItemHoverClass=o}var t=e.prototype;return t.HandleLabel=function(e,t){var o=this.hiddenSelect.id,s=this.$(this.hiddenSelect).closest(".form-group");if(1==s.length){var n=s.find('label[for="'+o+'"]'),i=n.attr("for"),l=e.find("input");if(i==this.hiddenSelect.id){var a=t+"-generated-filter-id-"+this.hiddenSelect.id;return l.attr("id",a),n.attr("for",a),function(){n.attr("for",i)}}}return null},t.CreateDropDownItemContent=function(e,t,o,s,n,i){var l=n+"-"+this.hiddenSelect.name.toLowerCase()+"-generated-id-"+t.toLowerCase(),a=s?"checked":"";this.$('<div class="custom-control custom-checkbox">\n            <input type="checkbox" class="custom-control-input" id="'+l+'" '+a+'>\n            <label class="custom-control-label" for="'+l+'">'+o+"</label>\n        </div>").appendTo(e);var r=e.find('INPUT[type="checkbox"]');return e.addClass(i),function(e){r.prop("checked",e)}},t.CreateSelectedItemContent=function(e,t,o,s,n,i){return e.addClass(s),this.$("<span>"+t+"</span>").appendTo(e),this.$('<button aria-label="Close" tabIndex="-1" type="button"><span aria-hidden="true">&times;</span></button>').addClass(n).css("white-space","nowrap").on("click",o).appendTo(e).prop("disabled",i)},t.FilterClick=function(e){return!("BUTTON"==e.target.nodeName||"SPAN"==e.target.nodeName&&"BUTTON"==e.target.parentElement.nodeName)},t.Hover=function(e,t){t?e.addClass(this.dropDownItemHoverClass):e.removeClass(this.dropDownItemHoverClass)},e}(),h=function(){function e(e,t,o){this.options=e.extend({},{containerClass:"dashboardcode-bsmultiselect",dropDownMenuClass:"dropdown-menu",dropDownItemClass:"px-2",dropDownItemHoverClass:"text-primary bg-light",selectedPanelClass:"form-control",selectedPanelFocusClass:"focus",selectedPanelDisabledClass:"disabled",selectedItemClass:"badge",removeSelectedItemButtonClass:"close",filterInputItemClass:"",filterInputClass:""},o),this.jQuery=e,this.hiddenSelect=t,this.bs4Commons=new s(e,t,this.options.dropDownItemHoverClass),this.bs4CommonsLabelDispose=null}var t=e.prototype;return t.Init=function(e,t,o,s,n){e.addClass(this.options.containerClass),t.addClass(this.options.selectedPanelClass),n.addClass(this.options.dropDownMenuClass),o.addClass(this.options.filterInputItemClass),s.addClass(this.options.filterInputClass),this.bs4CommonsLabelDispose=this.bs4Commons.HandleLabel(t,this.options.containerClass)},t.Dispose=function(){null!==this.bs4CommonsLabelDispose&&this.bs4CommonsLabelDispose()},t.UpdateIsValid=function(e){var t=this.jQuery(this.hiddenSelect);t.hasClass("is-valid")&&e.addClass("is-valid"),t.hasClass("is-invalid")&&e.addClass("is-invalid")},t.Enable=function(e,t){t?(e.removeClass(this.options.selectedPanelDisabledClass),e.find("BUTTON").prop("disabled",!1)):(e.addClass(this.options.selectedPanelDisabledClass),e.find("BUTTON").prop("disabled",!0))},t.CreateDropDownItemContent=function(e,t,o,s){return this.bs4Commons.CreateDropDownItemContent(e,t,o,s,this.options.containerClass,this.options.dropDownItemClass)},t.CreateSelectedItemContent=function(e,t,o,s){this.bs4Commons.CreateSelectedItemContent(e,t,o,this.options.selectedItemClass,this.options.removeSelectedItemButtonClass,s)},t.Hover=function(e,t){this.bs4Commons.Hover(e,t)},t.FilterClick=function(e){return this.bs4Commons.FilterClick(e)},t.Focus=function(e,t){t?e.addClass(this.options.selectedPanelFocusClass):e.removeClass(this.options.selectedPanelFocusClass)},e}(),c=function(){function e(e,t,o){this.options=e.extend({},{selectedPanelDefMinHeight:"calc(2.25rem + 2px)",selectedPanelLgMinHeight:"calc(2.875rem + 2px)",selectedPanelSmMinHeight:"calc(1.8125rem + 2px)",selectedPanelDisabledBackgroundColor:"#e9ecef",selectedPanelFocusBorderColor:"#80bdff",selectedPanelFocusBoxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",selectedPanelFocusValidBoxShadow:"0 0 0 0.2rem rgba(40, 167, 69, 0.25)",selectedPanelFocusInvalidBoxShadow:"0 0 0 0.2rem rgba(220, 53, 69, 0.25)",filterInputColor:"#495057"},o),this.jQuery=e,this.hiddenSelect=t,this.containerClass="dashboardcode-bsmultiselect",this.dropDownMenuClass="dropdown-menu",this.dropDownItemClass="px-2",this.dropDownItemHoverClass="text-primary bg-light",this.selectedPanelClass="form-control",this.selectedItemClass="badge",this.removeSelectedItemButtonClass="close",this.selectedPanelStyle={"margin-bottom":"0"},this.selectedItemStyle={"padding-left":"0px","line-height":"1.5em"},this.removeSelectedItemButtonStyle={"font-size":"1.5em","line-height":".9em"},this.bs4Commons=new s(e,t,this.dropDownItemHoverClass),this.bs4CommonsLabelDispose=null}var t=e.prototype;return t.Init=function(e,t,o,s,n){e.addClass(this.containerClass),t.addClass(this.selectedPanelClass),t.css(this.selectedPanelStyle),n.addClass(this.dropDownMenuClass),s.css("color",this.options.filterInputColor),this.bs4CommonsLabelDispose=this.bs4Commons.HandleLabel(t,this.containerClass)},t.Dispose=function(){null!==this.bs4CommonsLabelDispose&&this.bs4CommonsLabelDispose()},t.UpdateIsValid=function(e){var t=this.jQuery(this.hiddenSelect);t.hasClass("is-valid")&&e.addClass("is-valid"),t.hasClass("is-invalid")&&e.addClass("is-invalid")},t.UpdateSize=function(e){e.hasClass("form-control-lg")?e.css("min-height",this.options.selectedPanelLgMinHeight):e.hasClass("form-control-sm")?e.css("min-height",this.options.selectedPanelSmMinHeight):e.css("min-height",this.options.selectedPanelDefMinHeight)},t.Enable=function(e,t){t?(e.css({"background-color":""}),e.find("BUTTON").prop("disabled",!1)):(e.css({"background-color":this.options.selectedPanelDisabledBackgroundColor}),e.find("BUTTON").prop("disabled",!0))},t.CreateDropDownItemContent=function(e,t,o,s){return this.bs4Commons.CreateDropDownItemContent(e,t,o,s,this.containerClass,this.dropDownItemClass)},t.CreateSelectedItemContent=function(e,t,o,s){this.bs4Commons.CreateSelectedItemContent(e,t,o,this.selectedItemClass,this.removeSelectedItemButtonClass,s).css(this.removeSelectedItemButtonStyle),e.css(this.selectedItemStyle)},t.Hover=function(e,t){this.bs4Commons.Hover(e,t)},t.FilterClick=function(e){return this.bs4Commons.FilterClick(e)},t.Focus=function(e,t){t?e.hasClass("is-valid")?e.css("box-shadow",this.options.selectedPanelFocusValidBoxShadow):e.hasClass("is-invalid")?e.css("box-shadow",this.options.selectedPanelFocusInvalidBoxShadow):e.css("box-shadow",this.options.selectedPanelFocusBoxShadow).css("border-color",this.options.selectedPanelFocusBorderColor):e.css("box-shadow","").css("border-color","")},e}();return function(s,u,l){var e=u.fn[t],t="dashboardCodeBsMultiSelect",n=""+t,r={display:"flex","flex-wrap":"wrap","list-style-type":"none"},d={width:"2ch",border:"0",padding:"0",outline:"none","background-color":"transparent"},p={"list-style-type":"none"},i={doManageFocus:!0,useCss:!1,adapter:null},a=function(){function e(e,t,o){if("undefined"==typeof l)throw new TypeError("DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)");this.selectElement=e,this.options=u.extend({},i,t),this.adapter=o||(this.options.useCss?new h(u,this.selectElement,this.options):new c(u,this.selectElement,this.options)),this.container=null,this.selectedPanel=null,this.filterInputItem=null,this.filterInput=null,this.dropDownMenu=null,this.popper=null,this.selectedPanelClick=null,this.documentMouseup=null,this.containerMousedown=null,this.documentMouseup2=null,this.disabled=null,this.filterInputItemOffsetLeft=null,this.skipFocusout=!1,this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null,this.hasDropDownVisible=!1,this.init()}var t=e.prototype;return t.updateDropDownPosition=function(e){var t=this.filterInputItem.offsetLeft;(e||this.filterInputItemOffsetLeft!=t)&&(this.popper.update(),this.filterInputItemOffsetLeft=t)},t.hideDropDown=function(){this.dropDownMenu.style.display="none"},t.showDropDown=function(){this.dropDownMenu.style.display="block"},t.resetDropDownMenuHover=function(){null!==this.hoveredDropDownItem&&(this.adapter.Hover(u(this.hoveredDropDownItem),!1),this.hoveredDropDownItem=null),this.hoveredDropDownIndex=null},t.filterDropDownMenu=function(){var n=this.filterInput.value.trim().toLowerCase(),i=0;u(this.dropDownMenu).find("LI").each(function(e,t){var o=u(t);if(""==n)o.show(),i++;else{var s=o.data("option-text");!o.data("option-selected")&&0<=s.indexOf(n)?(o.show(),i++):o.hide()}}),this.hasDropDownVisible=0<i,this.resetDropDownMenuHover()},t.clearFilterInput=function(e){this.filterInput.value&&(this.filterInput.value="",this.input(e))},t.closeDropDown=function(){this.resetDropDownMenuHover(),this.clearFilterInput(!0),this.hideDropDown()},t.appendDropDownItem=function(i){var l=this,a=i.value,r=i.text,e=i.selected,d=u("<LI/>");d.data("option-id",a),d.data("option-text",r.toLowerCase());var p=this.adapter.CreateDropDownItemContent(d,a,r,e);d.appendTo(this.dropDownMenu);var t=function e(t){d.data("option-selected",!0);var o=u("<LI/>");o.data("option-id",a),i.selected=!0,p(!0);var s=function(){d.data("option-selected",!1),d.data("option-toggle",e),o.data("option-remove",null),o.remove(),i.selected=!1,p(!1),u(l.selectElement).trigger("change")},n=function(){s(),l.closeDropDown()};return l.adapter.CreateSelectedItemContent(o,r,n,l.disabled),o.insertBefore(l.filterInputItem),d.data("option-toggle",s),o.data("option-remove",n),"undefined"!=typeof t&&!0!==t||u(l.selectElement).trigger("change"),o};d.data("option-toggle",t),e&&t(!1);var o=function(e,t){l.adapter.Hover(u(e.target).closest("LI"),t)};d.click(function(e){e.preventDefault(),e.stopPropagation(),u(e.currentTarget).closest("LI").data("option-toggle")(),l.filterInput.focus()}).mouseover(function(e){return o(e,!0)}).mouseout(function(e){return o(e,!1)})},t.keydownArrow=function(e){var t=u(this.dropDownMenu).find('LI:not([style*="display: none"])').toArray();if(0<t.length){if(this.hasDropDownVisible&&(this.updateDropDownPosition(!0),this.showDropDown()),null===this.hoveredDropDownItem)this.hoveredDropDownIndex=e?0:t.length-1;else if(this.adapter.Hover(u(this.hoveredDropDownItem),!1),e){var o=this.hoveredDropDownIndex+1;this.hoveredDropDownIndex=o<t.length?o:0}else{var s=this.hoveredDropDownIndex-1;this.hoveredDropDownIndex=0<=s?s:t.length-1}this.hoveredDropDownItem=t[this.hoveredDropDownIndex],this.adapter.Hover(u(this.hoveredDropDownItem),!0)}},t.input=function(e){this.filterInput.style.width=1.3*this.filterInput.value.length+2+"ch",this.filterDropDownMenu(),this.hasDropDownVisible?(e&&this.updateDropDownPosition(e),this.showDropDown()):this.hideDropDown()},t.Update=function(){var e=this.selectedPanel;this.adapter.UpdateIsValid(e),this.UpdateSizeImpl(e),this.UpdateDisabledImpl(u(this.container),e)},t.Dispose=function(){u.removeData(this.selectElement,n),u(this.selectElement).off(n),u(s.document).unbind("mouseup",this.documentMouseup),u(s.document).unbind("mouseup",this.documentMouseup2),null!==this.adapter&&this.adapter.Dispose(),null!==this.popper&&this.popper.destroy(),null!==this.container&&u(this.container).remove()},t.UpdateSize=function(){this.UpdateSizeImpl(u(this.selectedPanel))},t.UpdateDisabled=function(){this.UpdateDisabledImpl(u(this.container),u(this.selectedPanel))},t.UpdateSizeImpl=function(e){this.adapter.UpdateSize&&this.adapter.UpdateSize(e)},t.UpdateDisabledImpl=function(e,t){var o=this.selectElement.disabled;this.disabled!==o&&(o?(this.filterInput.style.display="none",this.adapter.Enable(t,!1),this.options.doManageFocus&&(e.unbind("mousedown",this.containerMousedown),u(s.document).unbind("mouseup",this.documentMouseup)),t.unbind("click",this.selectedPanelClick),u(s.document).unbind("mouseup",this.documentMouseup2)):(this.filterInput.style.display="inline-block",this.adapter.Enable(t,!0),this.options.doManageFocus&&(e.mousedown(this.containerMousedown),u(s.document).mouseup(this.documentMouseup)),t.click(this.selectedPanelClick),u(s.document).mouseup(this.documentMouseup2)),this.disabled=o)},t.init=function(){var a=this,t=u(this.selectElement);t.hide();var e=u("<DIV/>");this.container=e.get(0);var o=u("<UL/>");o.css(r),this.selectedPanel=o.get(0),o.appendTo(this.container);var s=u("<LI/>");this.filterInputItem=s.get(0),s.appendTo(this.selectedPanel);var n=u('<INPUT type="search" autocomplete="off">');n.css(d),n.appendTo(this.filterInputItem),this.filterInput=n.get(0);var i=u("<UL/>").css({display:"none"}).appendTo(e);this.dropDownMenu=i.get(0),i.css(p),this.documentMouseup=function(){a.skipFocusout=!1},this.containerMousedown=function(){a.skipFocusout=!0},this.documentMouseup2=function(e){a.container===e.target||u.contains(a.container,e.target)||a.closeDropDown()},this.selectedPanelClick=function(e){"INPUT"!=e.target.nodeName&&u(a.filterInput).val("").focus(),a.hasDropDownVisible&&a.adapter.FilterClick(e)&&(a.updateDropDownPosition(!0),a.showDropDown())},this.adapter.Init(e,o,s,n,i),e.insertAfter(t),this.popper=new l(this.filterInput,this.dropDownMenu,{placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}}}),this.adapter.UpdateIsValid(o),this.UpdateSizeImpl(o),this.UpdateDisabledImpl(e,o),u(document).ready(function(){var e=t.find("OPTION");e.each(function(e,t){a.appendDropDownItem(t)}),a.hasDropDownVisible=0<e.length,a.updateDropDownPosition(!1)}),i.click(function(e){return e.stopPropagation()}),i.mouseover(function(){return a.resetDropDownMenuHover()}),this.options.doManageFocus&&n.focusin(function(){return a.adapter.Focus(o,!0)}).focusout(function(){a.skipFocusout||a.adapter.Focus(o,!1)}),n.on("keydown",function(e){if(38==e.which)e.preventDefault(),a.keydownArrow(!1);else if(40==e.which)e.preventDefault(),a.keydownArrow(!0);else if(13==e.which)e.preventDefault();else if(9==e.which)a.filterInput.value?e.preventDefault():a.closeDropDown();else{if(8==e.which&&!a.filterInput.value){var t=u(a.selectedPanel).find("LI:last").prev();if(t.length)t.data("option-remove")();a.updateDropDownPosition(!1)}a.resetDropDownMenuHover()}}),n.on("keyup",function(e){if(13==e.which||9==e.which)if(a.hoveredDropDownItem){u(a.hoveredDropDownItem).data("option-toggle")(),a.closeDropDown()}else{for(var t=a.filterInput.value.trim().toLowerCase(),o=a.dropDownMenu.querySelectorAll("LI"),s=null,n=0;n<o.length;++n){var i=o[n];if(i.textContent.trim().toLowerCase()==t){s=i;break}}if(s){var l=u(s);if(!l.data("option-selected"))l.data("option-toggle")();a.clearFilterInput(!0)}}else 27==e.which&&a.closeDropDown()}),n.on("input",function(){a.input(!0)})},e}();function o(o){return this.each(function(){var e=u(this).data(n);if(!e){if(/Dispose/.test(o))return;e=new a(this,"object"==typeof o?o:null),u(this).data(n,e)}if("string"==typeof o){var t=o;if("undefined"==typeof e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})}return u.fn[t]=o,u.fn[t.charAt(0).toUpperCase()+t.slice(1)]=function(){return u(this).data(n)},u.fn[t].Constructor=a,u.fn[t].noConflict=function(){return u.fn[t]=e,o},a}(window,e,t)});
//# sourceMappingURL=BsMultiSelect.min.js.map