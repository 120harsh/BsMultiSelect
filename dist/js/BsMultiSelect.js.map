{"version":3,"file":"BsMultiSelect.js","sources":["../../js/src/Tools.js","../../js/src/Bs4AdapterCss.js","../../js/src/Bs4AdapterJs.js","../../js/src/MultiSelect.js","../../js/src/AddToJQueryPrototype.js","../../js/src/Bs4Adapter.js","../../js/src/LabelAdapter.js","../../js/src/OptionsAdapters.js","../../js/src/Bs4SelectedItemContent.js","../../js/src/Bs4DropDownItemContent.js","../../js/src/BsMultiSelect.js"],"sourcesContent":["export function ExtendIfUndefined(destination, source) {\r\n    for (var property in source)\r\n        if (destination[property] === undefined)\r\n            destination[property] = source[property];\r\n}\r\n\r\nexport function ExtendIfUndefinedFluent(destination, source) {\r\n    ExtendIfUndefined(destination, source);\r\n    return destination;\r\n}","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defaults = {\r\n    selectedPanelFocusClass : 'focus',\r\n    selectedPanelDisabledClass: 'disabled',\r\n    dropDownItemDisabledClass: 'disabled'\r\n};\r\n\r\nfunction StylingBs4AdapterCss(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        Enable($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelFocusClass);\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelFocusClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default StylingBs4AdapterCss;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defSelectedPanelStyle = {'margin-bottom': '0', 'height': 'auto'};\r\n\r\nconst defaults = {\r\n    selectedPanelDefMinHeight: 'calc(2.25rem + 2px)',\r\n    selectedPanelLgMinHeight:  'calc(2.875rem + 2px)',\r\n    selectedPanelSmMinHeight:  'calc(1.8125rem + 2px)',\r\n    selectedPanelDisabledBackgroundColor: '#e9ecef',\r\n    selectedPanelFocusBorderColor: '#80bdff',\r\n    selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)',\r\n    selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)',\r\n    selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',\r\n    filterInputColor: '#495057',\r\n    //selectedItemContentDisabledOpacity: '.65'\r\n};\r\n\r\nfunction StylingBs4AdapterJs(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        OnInit(dom){\r\n            dom.selectedPanel.css(defSelectedPanelStyle);\r\n            dom.filterInput.css(\"color\", configuration.filterInputColor);\r\n        },\r\n    \r\n        UpdateSize($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"form-control-lg\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelLgMinHeight);\r\n            } else if ($selectedPanel.hasClass(\"form-control-sm\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelSmMinHeight);\r\n            } else {\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelDefMinHeight);\r\n            }\r\n        },\r\n    \r\n        Enable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", \"\")\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", configuration.selectedPanelDisabledBackgroundColor)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"is-valid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusValidBoxShadow);\r\n            } else if ($selectedPanel.hasClass(\"is-invalid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusInvalidBoxShadow);\r\n            } else {\r\n                $selectedPanel\r\n                    .css(\"box-shadow\", configuration.selectedPanelFocusBoxShadow)\r\n                    .css(\"border-color\", configuration.selectedPanelFocusBorderColor);\r\n            }\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n                $selectedPanel.css(\"box-shadow\", \"\" ).css(\"border-color\", \"\")\r\n        },\r\n    }\r\n}\r\n\r\n\r\nexport default StylingBs4AdapterJs;\r\n","import Popper from 'popper.js'\r\nimport { ExtendIfUndefinedFluent } from './Tools';\r\n\r\nconst defSelectedPanelStyleSys = {'display':'flex', 'flex-wrap':'wrap', 'list-style-type':'none'};  // remove bullets since this is ul\r\nconst defFilterInputStyleSys   = {'width':'2ch', 'border':'0', 'padding':'0', 'outline':'none', 'background-color':'transparent' };\r\nconst defDropDownMenuStyleSys  = {'list-style-type':'none'}; // remove bullets since this is ul\r\n\r\nconst defaults = {\r\n    getIsValid(){return false},\r\n    getIsInvalid(){return false},\r\n    label:null\r\n}\r\n\r\n// jQuery used for:\r\n// $.extend, $.contains, $(\"<div>\"), $(function(){}) aka ready\r\n// $e.trigger, $e.unbind, $e.on; but namespaces are not used;\r\n// events: \"focusin\", \"focusout\", \"mouseover\", \"mouseout\", \"keydown\", \"keyup\", \"click\"\r\n// $e.show, $e.hide, $e.focus, $e.css\r\n// $e.appendTo, $e.remove, $e.find, $e.closest, $e.prev, $e.data, $e.val\r\n\r\nclass MultiSelect {\r\n    constructor(optionsAdapter, adapter, bs4SelectedItemContent, bs4DropDownItemContent, labelAdapter, configuration, onDispose, window, $) {\r\n        if (typeof Popper === 'undefined') {\r\n            throw new TypeError('DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)')\r\n        }\r\n        // readonly\r\n        this.optionsAdapter = optionsAdapter;\r\n        this.container = optionsAdapter.container; // part of published api\r\n        this.adapter = adapter;\r\n        this.labelAdapter=labelAdapter;\r\n        this.window = window;\r\n        this.document = window.document;\r\n        this.onDispose=onDispose;\r\n        this.$ = $;\r\n        \r\n        this.configuration = ExtendIfUndefinedFluent(configuration, defaults);;\r\n        \r\n        this.selectedPanel = null;\r\n        this.filterInputItem = null;\r\n        this.filterInput = null;\r\n        this.dropDownMenu = null;\r\n        this.popper = null;\r\n        this.getDisabled=null;\r\n        \r\n        // removable handlers\r\n        this.selectedPanelClick  = null;\r\n        this.documentMouseup = null;\r\n        this.containerMousedown = null;\r\n        this.documentMouseup2 = null;\r\n        \r\n        // state\r\n        this.disabled = null;\r\n        this.filterInputItemOffsetLeft = null; // used to detect changes in input field position (by comparision with current value)\r\n        this.skipFocusout = false;\r\n        this.hoveredDropDownItem = null;\r\n        this.hoveredDropDownIndex = null;\r\n        this.hasDropDownVisible = false;\r\n        this.bs4SelectedItemContent=bs4SelectedItemContent;\r\n        this.bs4DropDownItemContent=bs4DropDownItemContent;\r\n\r\n        // jquery adapters\r\n        this.$document = $(this.document);\r\n\r\n        \r\n        //optionsAdapter(this.fillContainer, this.init);\r\n        this.init();\r\n    }\r\n\r\n    updateDropDownPosition(force) {\r\n        let offsetLeft = this.filterInputItem.offsetLeft;\r\n        if (force || this.filterInputItemOffsetLeft!=offsetLeft){\r\n            this.popper.update();\r\n            this.filterInputItemOffsetLeft=offsetLeft;\r\n        }\r\n    }\r\n    hideDropDown() {\r\n        this.dropDownMenu.style.display = 'none';\r\n    }\r\n    showDropDown() {\r\n        this.dropDownMenu.style.display = 'block';\r\n    }\r\n    // Public methods\r\n    resetDropDownMenuHover() {\r\n        if (this.hoveredDropDownItem !== null) {\r\n            this.adapter.HoverOut(this.$(this.hoveredDropDownItem));\r\n            this.hoveredDropDownItem = null;\r\n            this.hoveredDropDownIndex = null;\r\n        }\r\n    }\r\n\r\n    filterDropDownMenu() {\r\n        let text = this.filterInput.value.trim().toLowerCase();\r\n        let visible = 0;\r\n        this.$(this.dropDownMenu).find('LI').each((i, dropDownMenuItem) => {\r\n            let $dropDownMenuItem = this.$(dropDownMenuItem);\r\n            if (text == '') {\r\n                $dropDownMenuItem.show();\r\n                visible++;\r\n            }\r\n            else {\r\n                let itemText = $dropDownMenuItem.data(\"option-text\");\r\n                let option = $dropDownMenuItem.data(\"option\");\r\n                if (!option.selected && !option.hidden && !option.disabled && itemText.indexOf(text)>=0) {\r\n                    $dropDownMenuItem.show();\r\n                    visible++;\r\n                } else {\r\n                    $dropDownMenuItem.hide();\r\n                }\r\n            }\r\n        });\r\n        this.hasDropDownVisible = visible > 0;\r\n        this.resetDropDownMenuHover();\r\n        if (visible == 1) {\r\n            let visibleNodeListArray = this.getVisibleNodeListArray();\r\n            this.hoverInInternal(visibleNodeListArray, 0)\r\n        }\r\n    }\r\n\r\n    clearFilterInput(updatePosition) {\r\n        if (this.filterInput.value) {\r\n            this.filterInput.value = '';\r\n            this.input(updatePosition);\r\n        }\r\n    }\r\n\r\n    closeDropDown() {\r\n        this.resetDropDownMenuHover();\r\n        this.clearFilterInput(true);\r\n        this.hideDropDown();\r\n    }\r\n    \r\n    appendDropDownItem(optionElement) {\r\n        let isHidden = optionElement.hidden;\r\n        let itemText = optionElement.text;\r\n        let $dropDownItem = this.$(\"<LI/>\").prop(\"hidden\", isHidden)\r\n        $dropDownItem.data(\"option-text\", itemText.toLowerCase()).appendTo(this.dropDownMenu);\r\n        $dropDownItem.data(\"option\", optionElement);\r\n        let dropDownItem = $dropDownItem.get(0);\r\n        \r\n        //let optionData = {\"optionId\":optionElement.value, \"itemText\": optionElement.text }\r\n        let adjustDropDownItem = this.bs4DropDownItemContent.CreateDropDownItemContent(dropDownItem, optionElement); \r\n        let isDisabled = optionElement.disabled;\r\n        let isSelected = optionElement.selected;\r\n\r\n        if (isSelected && isDisabled)\r\n            adjustDropDownItem.disabledStyle(true);\r\n        else if (isDisabled)\r\n            adjustDropDownItem.disable(isDisabled);\r\n       \r\n        adjustDropDownItem.onSelected(() => {\r\n            let toggleItem = $dropDownItem.data(\"option-toggle\");\r\n            toggleItem();\r\n            this.filterInput.focus();\r\n        });\r\n        \r\n        let selectItem = (doPublishEvents) => {\r\n            if (optionElement.hidden)\r\n                return;\r\n            let $selectedItem = this.$(\"<LI/>\");\r\n            let selectedItem = $selectedItem.get(0);\r\n            \r\n            let adjustPair =(isSelected, toggle, remove, disable) => {\r\n                optionElement.selected = isSelected;\r\n                adjustDropDownItem.select(isSelected);\r\n                $dropDownItem.data(\"option-toggle\", toggle);                    \r\n                $selectedItem.data(\"option-remove\", remove);\r\n                $selectedItem.data(\"option-disable\", disable);\r\n            }\r\n\r\n            let removeItem = () => {\r\n                adjustDropDownItem.disabledStyle(false);\r\n                adjustDropDownItem.disable(optionElement.disabled);\r\n                adjustPair(\r\n                    false, \r\n                    () => {\r\n                        if (optionElement.disabled)\r\n                            return;\r\n                        selectItem(true);\r\n                    }, \r\n                    null,\r\n                    null\r\n                    );\r\n                $selectedItem.remove();\r\n                this.optionsAdapter.triggerChange();\r\n            };\r\n            \r\n            // what is a problem with calling removeSelectedItem directly (not using  setTimeout(removeSelectedItem, 0)):\r\n            // consider situation \"MultiSelect\" on DROPDOWN (that should be closed on the click outside dropdown)\r\n            // therefore we aslo have document's click's handler where we decide to close or leave the DROPDOWN open.\r\n            // because of the event's bubling process removeSelectedItem runs first. \r\n            // that means the event's target element on which we click (the x button) will be removed from the DOM together with badge \r\n            // before we could analize is it belong to our dropdown or not.\r\n            // important 1: we can't just the stop propogation using stopPropogate because click outside dropdown on the similar \r\n            // component that use stopPropogation will not close dropdown (error, dropdown should be closed)\r\n            // important 2: we can't change the dropdown's event handler to leave dropdown open if event's target is null because of\r\n            // the situation described above: click outside dropdown on the same component.\r\n            // Alternatively it could be possible to use stopPropogate but together create custom click event setting new target that belomgs to DOM (e.g. panel)\r\n\r\n            let removeItemAndCloseDropDown = () => {\r\n                removeItem();\r\n                this.closeDropDown();\r\n            };\r\n\r\n            let onRemoveItemEvent = (jqEvent) => {\r\n                setTimeout( ()=> {  \r\n                    removeItem();\r\n                    this.closeDropDown();\r\n                }, 0);\r\n                this.ProcessedBySelectedItemContentEvent=jqEvent;\r\n            };\r\n\r\n            let bsSelectedItemContent = this.bs4SelectedItemContent.CreateSelectedItemContent(\r\n                selectedItem,\r\n                optionElement,\r\n                onRemoveItemEvent\r\n            );\r\n            //bsSelectedItemContentList.push(bsSelectedItemContent);\r\n            bsSelectedItemContent.disable(this.disabled);\r\n            adjustPair(true, ()=>removeItem(), removeItemAndCloseDropDown, bsSelectedItemContent.disable);\r\n            $selectedItem.insertBefore(this.filterInputItem);\r\n            if (doPublishEvents){\r\n                this.optionsAdapter.triggerChange();\r\n            }\r\n        }\r\n\r\n        $dropDownItem\r\n            .mouseover(() => this.adapter.HoverIn($dropDownItem))\r\n            .mouseout(() => this.adapter.HoverOut($dropDownItem));\r\n        \r\n        if (optionElement.selected)\r\n            selectItem(false);\r\n        else\r\n            $dropDownItem.data(\"option-toggle\",  () => { \r\n                if (optionElement.disabled)\r\n                    return;\r\n                selectItem(true);\r\n            })\r\n    }\r\n    getVisibleNodeListArray(){\r\n        return this.$(this.dropDownMenu).find('LI:not([style*=\"display: none\"]):not(:hidden)').toArray();\r\n    }\r\n    hoverInInternal(visibleNodeListArray, index){\r\n        this.hoveredDropDownIndex = index;\r\n        this.hoveredDropDownItem = visibleNodeListArray[index];\r\n        this.adapter.HoverIn(this.$(this.hoveredDropDownItem));\r\n    }\r\n    keydownArrow(down) {\r\n        let visibleNodeListArray = this.getVisibleNodeListArray();\r\n        if (visibleNodeListArray.length > 0) {\r\n            if (this.hasDropDownVisible) {\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            let index;\r\n            if (this.hoveredDropDownItem === null) {\r\n                index = down ? 0 : visibleNodeListArray.length - 1;\r\n            }\r\n            else {\r\n                this.adapter.HoverOut(this.$(this.hoveredDropDownItem));\r\n                if (down) {\r\n                    let newIndex = this.hoveredDropDownIndex + 1;\r\n                    index = newIndex < visibleNodeListArray.length ? newIndex : 0;\r\n                } else {\r\n                    let newIndex = this.hoveredDropDownIndex - 1;\r\n                    index = newIndex >= 0 ? newIndex : visibleNodeListArray.length - 1;\r\n                }\r\n            }\r\n            this.hoverInInternal(visibleNodeListArray, index);\r\n        }\r\n    }\r\n    input(forceUpdatePosition) {\r\n        this.filterInput.style.width = this.filterInput.value.length*1.3 + 2 + \"ch\";\r\n        this.filterDropDownMenu();\r\n\r\n        if (this.hasDropDownVisible) {\r\n            if (forceUpdatePosition) // ignore it if it is called from\r\n                this.updateDropDownPosition(forceUpdatePosition); // we need it to support case when textbox changes its place because of line break (texbox grow with each key press)\r\n            this.showDropDown();\r\n        } else {\r\n            this.hideDropDown();\r\n        }\r\n    }\r\n    Update(){\r\n        let $selectedPanel = this.$(this.selectedPanel);\r\n        this.adapter.UpdateIsValid($selectedPanel);\r\n        this.UpdateSizeImpl($selectedPanel);\r\n        this.UpdateDisabledImpl(this.$(this.optionsAdapter.container), $selectedPanel);\r\n    }\r\n    Dispose(){\r\n        if (this.onDispose)\r\n            this.onDispose();\r\n        \r\n        // removable handlers\r\n        this.$document.unbind(\"mouseup\", this.documentMouseup)\r\n                      .unbind(\"mouseup\", this.documentMouseup2);\r\n        \r\n        this.labelAdapter.dispose();\r\n        // if (this.adapter && this.adapter.Dispose) {\r\n        //     this.adapter.Dispose()\r\n        // }\r\n        if (this.popper !== null) {\r\n            this.popper.destroy()\r\n        }\r\n        \r\n        if (this.optionsAdapter.dispose) {\r\n            this.optionsAdapter.dispose();\r\n        }\r\n    }\r\n    UpdateSize(){\r\n        this.UpdateSizeImpl(this.$(this.selectedPanel));\r\n    }\r\n    UpdateDisabled(){\r\n        this.UpdateDisabledImpl(this.$(this.container), this.$(this.selectedPanel));\r\n    }\r\n    UpdateSizeImpl($selectedPanel){\r\n        if (this.adapter.UpdateSize)\r\n            this.adapter.UpdateSize($selectedPanel);\r\n    }\r\n    UpdateDisabledImpl($container, $selectedPanel){\r\n        let disabled = this.optionsAdapter.getDisabled();\r\n        if (this.disabled!==disabled){\r\n            if (disabled) {\r\n                this.filterInput.style.display = \"none\";\r\n                this.adapter.Disable($selectedPanel);\r\n                $selectedPanel.find('LI').each( \r\n                    function (i, e) {let disable = $(e).data(\"option-disable\"); if (disable!=null) disable(true); } );\r\n                    \r\n                $container.unbind(\"mousedown\", this.containerMousedown);\r\n                this.$document.unbind(\"mouseup\", this.documentMouseup);\r\n\r\n                $selectedPanel.unbind(\"click\", this.selectedPanelClick);\r\n                this.$document.unbind(\"mouseup\", this.documentMouseup2);\r\n                \r\n            } else {\r\n                this.filterInput.style.display = \"inline-block\";\r\n                this.adapter.Enable($selectedPanel);\r\n                $selectedPanel.find('LI').each( \r\n                    function (i, e) {let disable = $(e).data(\"option-disable\"); if (disable!=null) disable(false);} );\r\n\r\n                $container.mousedown(this.containerMousedown); // removable\r\n                this.$document.mouseup(this.documentMouseup);  // removable\r\n\r\n                $selectedPanel.click(this.selectedPanelClick); // removable\r\n                this.$document.mouseup(this.documentMouseup2); // removable\r\n            }\r\n            this.disabled=disabled;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        let container = this.optionsAdapter.container;\r\n        let $container = this.$(container);\r\n        this.selectedPanel = this.document.createElement(\"ul\");\r\n        let $selectedPanel = this.$(this.selectedPanel);\r\n        $selectedPanel.css(defSelectedPanelStyleSys);\r\n        $selectedPanel.appendTo(container);\r\n        let $filterInputItem = this.$('<LI/>');\r\n        this.filterInputItem = $filterInputItem.get(0)\r\n        $filterInputItem.appendTo(this.selectedPanel);\r\n        let $filterInput = this.$('<INPUT type=\"search\" autocomplete=\"off\">');\r\n        this.filterInput = $filterInput.get(0);\r\n        $filterInput.css(defFilterInputStyleSys);\r\n        $filterInput.appendTo(this.filterInputItem);\r\n        \r\n        let $dropDownMenu = this.$(\"<UL/>\").css({\"display\":\"none\"});\r\n        $dropDownMenu.appendTo(container);\r\n        this.dropDownMenu = $dropDownMenu.get(0);\r\n        \r\n        // prevent heavy understandable styling error\r\n        $dropDownMenu.css(defDropDownMenuStyleSys);\r\n        // create handlers\r\n        this.documentMouseup = () => {\r\n            this.skipFocusout = false;\r\n        }\r\n\r\n        this.containerMousedown = () => {\r\n            this.skipFocusout = true;\r\n        };\r\n        this.documentMouseup2 = event => {\r\n            if (!(container === event.target || this.$.contains(container, event.target))) {\r\n                this.closeDropDown();\r\n            }\r\n        }\r\n        this.selectedPanelClick = jqEvent => {\r\n            if (jqEvent.target.nodeName != \"INPUT\")\r\n                this.$(this.filterInput).val('').focus();\r\n            if (this.hasDropDownVisible &&  (this.ProcessedBySelectedItemContentEvent==null || this.ProcessedBySelectedItemContentEvent.originalEvent!=jqEvent.originalEvent)){\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            this.ProcessedBySelectedItemContentEvent=null;\r\n        };\r\n        this.adapter.Init({\r\n            container:$container, selectedPanel:$selectedPanel,\r\n            filterInputItem:$filterInputItem, filterInput:$filterInput,\r\n            dropDownMenu:$dropDownMenu });\r\n        \r\n        this.labelAdapter.init($filterInput); \r\n\r\n        if (this.optionsAdapter.afterContainerFilled)\r\n            this.optionsAdapter.afterContainerFilled();\r\n        this.popper = new Popper(this.filterInput, this.dropDownMenu, {\r\n            placement: 'bottom-start',\r\n            modifiers: {\r\n                preventOverflow: {enabled:false},\r\n                hide: {enabled:false},\r\n                flip: {enabled:false}\r\n                }\r\n        });\r\n        \r\n        this.adapter.UpdateIsValid($selectedPanel);\r\n        \r\n        this.UpdateSizeImpl($selectedPanel);\r\n        this.UpdateDisabledImpl($container, $selectedPanel);\r\n        // some browsers (IE11) can change select value (as part of \"autocomplete\") after page is loaded but before \"ready\" event\r\n        // FYI: $(() => { ...}) is jquery ready event shortcut\r\n        this.$(() => {\r\n            let options = this.optionsAdapter.options;\r\n            this.$.each(options,\r\n                (index, el) => {\r\n                    this.appendDropDownItem(el);\r\n                }\r\n            );\r\n            this.hasDropDownVisible = options.length > 0;\r\n            this.updateDropDownPosition(false);\r\n        });\r\n        // there was unmotivated stopPropagation call. commented out.\r\n        // $dropDownMenu.click(  event => { \r\n        //    event.stopPropagation();\r\n        // });\r\n        $dropDownMenu.mouseover(() => this.resetDropDownMenuHover());\r\n\r\n        $filterInput.focusin(() => this.adapter.FocusIn($selectedPanel))\r\n                    .focusout(() => {\r\n                            if (!this.skipFocusout)\r\n                                this.adapter.FocusOut($selectedPanel)\r\n                            });\r\n        $filterInput.on(\"keydown\", (event) => {\r\n            if ([38, 40, 13].indexOf(event.which)>=0 || (event.which == 9 && this.filterInput.value) ) {\r\n                event.preventDefault();\r\n            }\r\n\r\n            if (event.which == 38) {\r\n                this.keydownArrow(false);\r\n            }\r\n            else if (event.which == 40) {\r\n                if (this.hoveredDropDownItem === null && this.hasDropDownVisible) {\r\n                    this.showDropDown();\r\n                }\r\n                this.keydownArrow(true);\r\n            }\r\n            else if (event.which == 9) {\r\n                if (!this.filterInput.value) {\r\n                    this.closeDropDown();\r\n                }\r\n            }\r\n            else if (event.which == 8) {\r\n                // NOTE: this will process backspace only if there are no text in the input field\r\n                // If user will find this inconvinient, we will need to calculate something like this\r\n                // this.isBackspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\r\n                if (!this.filterInput.value)\r\n                {\r\n                    let $penult = this.$(this.selectedPanel).find(\"LI:last\").prev();\r\n                    if ($penult.length){\r\n                        let removeItem = $penult.data(\"option-remove\");\r\n                        removeItem();\r\n                    }\r\n                    this.updateDropDownPosition(false);\r\n                }\r\n            }\r\n\r\n            if ([38, 40, 13, 9].indexOf(event.which)==-1)\r\n                this.resetDropDownMenuHover();\r\n        });\r\n        $filterInput.on(\"keyup\", (event) => {\r\n            if (event.which == 13 || event.which == 9 ) {\r\n                if (this.hoveredDropDownItem) {\r\n                    let $hoveredDropDownItem = this.$(this.hoveredDropDownItem);\r\n                    let toggleItem =  $hoveredDropDownItem.data(\"option-toggle\");\r\n                    toggleItem();\r\n                    this.closeDropDown();\r\n                } else {\r\n                    let text = this.filterInput.value.trim().toLowerCase();\r\n                    let dropDownItems = this.dropDownMenu.querySelectorAll(\"LI\");\r\n                    let dropDownItem = null;\r\n                    for (let i = 0; i < dropDownItems.length; ++i) {\r\n                        let it = dropDownItems[i];\r\n                        if (it.textContent.trim().toLowerCase() == text)\r\n                        {\r\n                            dropDownItem=it;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (dropDownItem) {\r\n                        let $dropDownItem = this.$(dropDownItem);\r\n                        let option = $dropDownItem.data(\"option\");\r\n                        if (!option.selected){\r\n                            let toggle = $dropDownItem.data(\"option-toggle\");\r\n                            toggle();\r\n                        }\r\n                        this.clearFilterInput(true);\r\n                    }\r\n                }\r\n            }\r\n            else if (event.which == 27) { // escape\r\n                this.closeDropDown();\r\n            }\r\n        });\r\n        $filterInput.on('input', () => {\r\n            this.input(true);\r\n        });\r\n    }\r\n}\r\n\r\nexport default MultiSelect;\r\n","function AddToJQueryPrototype(pluginName, createPlugin, $){\r\n    const firstChar = pluginName.charAt(0);\r\n    const firstCharLower = firstChar.toLowerCase();\r\n    if (firstCharLower == firstChar) {\r\n        throw new TypeError(`Plugin name '${pluginName}' should be started from upper case char`)\r\n    }\r\n    const prototypableName = firstCharLower + pluginName.slice(1)\r\n    const noConflictPrototypable = $.fn[prototypableName];\r\n    const dataKey = `DashboardCode.${pluginName}`;\r\n\r\n    function prototypable(options) {\r\n        return this.each( function () {\r\n            let $e = $(this);\r\n            let instance = $e.data(dataKey)\r\n            let isMethodName = typeof options === 'string';\r\n            if (!instance) {\r\n                if (isMethodName && /Dispose/.test(options)) {\r\n                    return;\r\n                }\r\n                const optionsObject = (typeof options === 'object')?options:null;\r\n\r\n                instance = createPlugin(this, optionsObject,\r\n                    () => {\r\n                        $e.removeData(dataKey)\r\n                    });\r\n                $e.data(dataKey, instance);\r\n            }\r\n\r\n            if (isMethodName) {\r\n                let methodName = options;\r\n                if (typeof instance[methodName] === 'undefined') {\r\n                    throw new TypeError(`No method named '${methodName}'`)\r\n                }\r\n                instance[methodName]()\r\n            }\r\n        })\r\n    }\r\n\r\n    $.fn[prototypableName] = prototypable;\r\n\r\n    // pluginName with first capitalized letter - return plugin instance for 1st $selected item\r\n    $.fn[pluginName] = function () {\r\n        return $(this).data(dataKey);\r\n    };\r\n\r\n    $.fn[prototypableName].noConflict = function () {\r\n        $.fn[prototypableName] = noConflictPrototypable\r\n        return prototypable;\r\n    }\r\n}\r\n\r\nexport default AddToJQueryPrototype\r\n","import  { ExtendIfUndefinedFluent } from './Tools';\r\n\r\n// addClass, removeClass, css, siblings('label'), hasClass, find('BUTTON').prop(..)\r\nconst defaults = {\r\n    containerClass: 'dashboardcode-bsmultiselect',\r\n    dropDownMenuClass: 'dropdown-menu',\r\n    dropDownItemClass:  'px-2',\r\n    dropDownItemHoverClass: 'text-primary bg-light',\r\n    selectedPanelClass: 'form-control',\r\n    selectedItemClass: 'badge',\r\n    removeSelectedItemButtonClass: 'close',\r\n    filterInputItemClass: '',\r\n    filterInputClass: ''\r\n}\r\n\r\nclass Bs4Adapter {\r\n\r\n    constructor(stylingAdapter, configuration){\r\n        this.stylingAdapter = stylingAdapter;\r\n        this.configuration = ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n   \r\n    Init(dom){\r\n        dom.container.addClass(this.configuration.containerClass);\r\n        dom.selectedPanel.addClass(this.configuration.selectedPanelClass);\r\n        dom.dropDownMenu.addClass(this.configuration.dropDownMenuClass);\r\n        dom.filterInputItem.addClass(this.configuration.filterInputItemClass);\r\n        dom.filterInput.addClass(this.configuration.filterInputClass);\r\n        if (this.stylingAdapter.OnInit)\r\n            this.stylingAdapter.OnInit(dom)\r\n    }\r\n\r\n    // handleLabel($filterInput){\r\n    //     var label = this.configuration.label;\r\n    //     if (label!=null) {\r\n    //         var newForId = this.configuration.createInputId();\r\n    //         var backupForId =  label.getAttribute('for');\r\n    //         $filterInput.attr('id', newForId);\r\n    //         label.setAttribute('for',newForId);\r\n    //         return () => {\r\n    //             label.setAttribute('for',backupForId);\r\n    //         }\r\n    //     }\r\n    //     return null;\r\n    // }\r\n\r\n    // Dispose(){\r\n    //     if (this.bs4LabelDispose)\r\n    //         this.bs4LabelDispose();\r\n    // }\r\n\r\n    UpdateIsValid($selectedPanel){\r\n        if (this.configuration.getIsValid()){\r\n            $selectedPanel.addClass(\"is-valid\");\r\n        }\r\n\r\n        if (this.configuration.getIsInvalid()){\r\n            $selectedPanel.addClass(\"is-invalid\");\r\n        }\r\n    }\r\n\r\n    UpdateSize($selectedPanel){\r\n        if(this.stylingAdapter.UpdateSize)\r\n            this.stylingAdapter.UpdateSize($selectedPanel)\r\n    }\r\n\r\n    HoverIn($dropDownItem){\r\n        $dropDownItem.addClass(this.configuration.dropDownItemHoverClass);\r\n    }\r\n\r\n    HoverOut($dropDownItem){\r\n        $dropDownItem.removeClass(this.configuration.dropDownItemHoverClass);\r\n    }\r\n\r\n    Enable($selectedPanel){\r\n        this.stylingAdapter.Enable($selectedPanel)\r\n    }\r\n\r\n    Disable($selectedPanel){\r\n        this.stylingAdapter.Disable($selectedPanel)\r\n    }\r\n\r\n    FocusIn($selectedPanel){\r\n        this.stylingAdapter.FocusIn($selectedPanel)\r\n    }\r\n\r\n    FocusOut($selectedPanel){\r\n        this.stylingAdapter.FocusOut($selectedPanel)\r\n    }\r\n}\r\n\r\nexport default Bs4Adapter;\r\n","function LabelAdapter(label, createInputId){\r\n    var backupForId = label!=null?label.getAttribute('for'):null;\r\n    return {\r\n        init($filterInput) {\r\n            if (label!=null) {\r\n                var newForId = createInputId();\r\n                $filterInput.attr('id', newForId);\r\n                label.setAttribute('for',newForId);\r\n            }\r\n        },\r\n        dispose(){\r\n            if(backupForId)\r\n                label.setAttribute('for',backupForId);\r\n        }\r\n    }\r\n}\r\n\r\nexport default LabelAdapter;","function OptionsAdapterJson(container, options, getDisabled, $) {\r\n    var $container = $(container);\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            while (container.firstChild) container.removeChild(container.firstChild);\r\n        },\r\n        triggerChange(){\r\n            $container.trigger( \"multiselect:change\" );\r\n        },\r\n        getDisabled(){\r\n            return getDisabled?getDisabled():false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction OptionsAdapterElement(selectElement, $) {\r\n    var $selectElement = $(selectElement);\r\n    selectElement.style.display='none';\r\n    var container = document.createElement(\"div\");\r\n    var options = $selectElement.find('OPTION');;\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            container.parentNode.removeChild(container);\r\n        },\r\n        afterContainerFilled(){\r\n            selectElement.parentNode.insertBefore(container, selectElement.nextSibling);\r\n        },\r\n        triggerChange(){\r\n            $selectElement.trigger('change');\r\n            $selectElement.trigger(\"multiselect:change\");\r\n        },\r\n        getDisabled(){\r\n            return selectElement.disabled;\r\n        }\r\n    }\r\n}\r\n\r\nexport {OptionsAdapterJson, OptionsAdapterElement};\r\n","import  { ExtendIfUndefined, ExtendIfUndefinedFluent } from './Tools';\r\n\r\nclass Bs4SelectedItemContentCss {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisableSelectedItemContent($content){\r\n        $content.addClass(this.configuration.selectedItemContentDisabledClass )\r\n    }\r\n}\r\n\r\nconst defSelectedItemStyle = {'padding-left': '0px', 'line-height': '1.5em'};\r\nconst defRemoveSelectedItemButtonStyle = {'font-size':'1.5em', 'line-height': '.9em'};\r\n\r\nclass Bs4SelectedItemContentJs {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledOpacity: '.65',\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisableSelectedItemContent($content){\r\n        $content.css(\"opacity\", this.configuration.selectedItemContentDisabledOpacity )\r\n    }\r\n    \r\n    CreateSelectedItemContent($selectedItem, $button){\r\n        $selectedItem.css(defSelectedItemStyle);\r\n        if ($button)\r\n            $button.css(defRemoveSelectedItemButtonStyle);\r\n    }\r\n}\r\n\r\nclass Bs4SelectedItemContent {\r\n\r\n    constructor(stylingAdapter, configuration, $){\r\n        const defaults = {\r\n            selectedItemClass: 'badge',\r\n            removeSelectedItemButtonClass: 'close'\r\n        };\r\n        ExtendIfUndefined(configuration, defaults);\r\n        this.stylingAdapter = stylingAdapter;\r\n        this.$ = $;\r\n        \r\n        if (configuration.createSelectedItemContent)\r\n            this.createSelectedItemContent = configuration.createSelectedItemContent;\r\n        else\r\n            this.createSelectedItemContent = (selectedItem, optionItem, removeSelectedItem) => {\r\n                let $selectedItem = $(selectedItem)\r\n                $selectedItem.addClass(configuration.selectedItemClass);\r\n                let $content = this.$(`<span/>`).text(optionItem.text);\r\n                $content.appendTo($selectedItem);\r\n                if (optionItem.disabled)\r\n                    this.stylingAdapter.DisableSelectedItemContent($content);\r\n                let $button = this.$('<button aria-label=\"Close\" tabIndex=\"-1\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>')\r\n                    // bs 'close' class that will be added to button set the float:right, therefore it impossible to configure no-warp policy \r\n                    // with .css(\"white-space\", \"nowrap\") or  .css(\"display\", \"inline-block\"); TODO: migrate to flex? \r\n                    .css(\"float\", \"none\").appendTo($selectedItem)\r\n                    .addClass(configuration.removeSelectedItemButtonClass) // bs close class set the float:right\r\n                    .on(\"click\", (jqEvent) => removeSelectedItem(jqEvent));\r\n                \r\n                if (this.stylingAdapter.CreateSelectedItemContent)\r\n                    this.stylingAdapter.CreateSelectedItemContent($selectedItem, $button);\r\n                return {\r\n                    disable(isDisabled){ $button.prop('disabled', isDisabled); }\r\n                };\r\n            }\r\n    }\r\n\r\n    CreateSelectedItemContent(selectedItem, optionItem, removeSelectedItem, skipProcessingEvent){\r\n        return this.createSelectedItemContent(selectedItem, optionItem, removeSelectedItem, skipProcessingEvent);\r\n    }\r\n}\r\n\r\nexport { Bs4SelectedItemContent, Bs4SelectedItemContentJs, Bs4SelectedItemContentCss };\r\n","import  { ExtendIfUndefined, ExtendIfUndefinedFluent } from './Tools';\r\n\r\nclass Bs4DropDownItemContentCss {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n        if (isDisbaled) \r\n            $checkBox.addClass(this.configuration.dropDownItemDisabledClass);\r\n        else\r\n            $checkBox.removeClass(this.configuration.dropDownItemDisabledClass);\r\n    }\r\n}\r\n\r\nclass Bs4DropDownItemContentJs {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledOpacity: '.65',\r\n            dropdDownLabelDisabledColor: '#6c757d'\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n        $checkBoxLabel.css('color', isDisbaled?this.configuration.dropdDownLabelDisabledColor:'')\r\n    }\r\n}\r\n\r\n// addClass, removeClass, css, siblings('label'), hasClass, find('BUTTON').prop(..)\r\nclass Bs4DropDownItemContent {\r\n\r\n    constructor(stylingAdapter, configuration, $){\r\n        const defaults = {\r\n            dropDownItemClass:  'px-2',\r\n        }\r\n        ExtendIfUndefined(configuration, defaults);\r\n        this.$ = $;\r\n        this.stylingAdapter = stylingAdapter;\r\n\r\n        this.createDropDownItemContent = (dropDownItem, option) => {\r\n            let $dropDownItem = $(dropDownItem);\r\n            $dropDownItem.addClass(configuration.dropDownItemClass);\r\n            let $dropDownItemContent= this.$(`<div class=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" class=\"custom-control-input\">\r\n                <label class=\"custom-control-label\"></label>\r\n            </div>`);\r\n            $dropDownItemContent.appendTo(dropDownItem);\r\n            let $checkBox = $dropDownItemContent.find(`INPUT[type=\"checkbox\"]`);\r\n            let $checkBoxLabel = $dropDownItemContent.find(`label`);\r\n            $checkBoxLabel.text(option.text);\r\n\r\n            return { \r\n                select(isSelected){ $checkBox.prop('checked', isSelected); }, \r\n                disable(isDisabled){ $checkBox.prop('disabled', isDisabled); },\r\n                disabledStyle(isDisbaled){ stylingAdapter.DisabledStyle($checkBox, $checkBoxLabel, isDisbaled); },\r\n                onSelected(toggle) {\r\n                        $checkBox.on(\"change\", toggle)\r\n                        $dropDownItem.on(\"click\", event => {\r\n                            if (dropDownItem === event.target || $.contains(dropDownItem, event.target)) {\r\n                                toggle();\r\n                            }\r\n                        })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // ------------------------------------------------------------------------------------------------\r\n    CreateDropDownItemContent(dropDownItem, option){\r\n        return this.createDropDownItemContent(dropDownItem, option);\r\n    }\r\n }\r\n\r\nexport { Bs4DropDownItemContent, Bs4DropDownItemContentJs, Bs4DropDownItemContentCss };","import $ from 'jquery'\r\nimport StylingBs4AdapterCss from './Bs4AdapterCss'\r\nimport StylingBs4AdapterJs from './Bs4AdapterJs'\r\nimport MultiSelect from './MultiSelect'\r\nimport AddToJQueryPrototype from './AddToJQueryPrototype'\r\nimport Bs4Adapter from './Bs4Adapter';\r\nimport LabelAdapter from './LabelAdapter';\r\n\r\nimport {OptionsAdapterJson,OptionsAdapterElement} from './OptionsAdapters';\r\n\r\nimport { Bs4SelectedItemContent, Bs4SelectedItemContentJs, Bs4SelectedItemContentCss } from './Bs4SelectedItemContent';\r\nimport { Bs4DropDownItemContent, Bs4DropDownItemContentJs, Bs4DropDownItemContentCss } from './Bs4DropDownItemContent';\r\n\r\n(\r\n    (window, $) => {\r\n        AddToJQueryPrototype('BsMultiSelect',\r\n            (element, settings, onDispose) => {\r\n                let configuration = $.extend({}, settings); // settings used per jQuery intialization, configuration per element\r\n                if (configuration.buildConfiguration)\r\n                    configuration.buildConfiguration(element, configuration);\r\n\r\n                let optionsAdapter = null;\r\n                if (configuration.optionsAdapter)\r\n                    optionsAdapter = configuration.optionsAdapter;\r\n                else\r\n                {\r\n                    if (configuration.options){\r\n                        optionsAdapter = OptionsAdapterJson(element, configuration.options, configuration.hasOwnProperty(\"getDisabled\")?configuration.getDisabled:()=>false, $ );\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-filter-${element.id}`;\r\n            \r\n                    }else {\r\n                        configuration.getIsValid=()=>element.classList.contains('is-valid');\r\n                        configuration.getIsInvalid=()=>element.classList.contains('is-invalid');\r\n                        if (!configuration.label)\r\n                        {\r\n                            let $formGroup = $(element).closest('.form-group');\r\n                            if ($formGroup.length == 1) {\r\n                                let $label = $formGroup.find(`label[for=\"${element.id}\"]`);\r\n                                if ($label.length>0)\r\n                                {   \r\n                                    let label = $label.get(0);\r\n                                    let forId = label.getAttribute('for');\r\n                                    if (forId == element.id) {\r\n                                        configuration.label = label;\r\n                                    }\r\n                                }   \r\n                            }\r\n                        }\r\n                        optionsAdapter = OptionsAdapterElement(element, $);\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-input-${((element.id)?element.id:element.name).toLowerCase()}-id`;\r\n                    }\r\n                }\r\n\r\n                let labelAdapter = LabelAdapter(configuration.label, configuration.createInputId);\r\n\r\n                let adapter=null;\r\n                if (configuration.adapter)\r\n                    adapter = configuration.adapter;\r\n                else\r\n                {\r\n                    let stylingAdapter = configuration.useCss\r\n                        ? StylingBs4AdapterCss(configuration)\r\n                        : StylingBs4AdapterJs(configuration);\r\n                    adapter = new Bs4Adapter(stylingAdapter, configuration);\r\n                }\r\n\r\n                // configuration.createSelectedItemContent = function(selectedItem, optionItem, removeSelectedItem){\r\n                //     let $selectedItem = $(selectedItem)\r\n                //     $selectedItem.addClass(configuration.selectedItemClass);\r\n                //     let $content = this.$(`<span/>`).text(optionItem.text);\r\n                //     $content.appendTo($selectedItem);\r\n                //     if (optionItem.disabled)\r\n                //         this.stylingAdapter.DisableSelectedItemContent($content);\r\n                    \r\n                //     if (this.stylingAdapter.CreateSelectedItemContent)\r\n                //         this.stylingAdapter.CreateSelectedItemContent($selectedItem, null);\r\n                //     return {\r\n                //          disable(isDisabled){  }\r\n                //     };\r\n                // }\r\n\r\n                let stylingAdapter2 = configuration.useCss\r\n                    ? new Bs4SelectedItemContentCss(configuration, $)\r\n                    : new Bs4SelectedItemContentJs(configuration, $);\r\n                let stylingAdapter3 = configuration.useCss\r\n                    ? new Bs4DropDownItemContentCss(configuration, $)\r\n                    : new Bs4DropDownItemContentJs(configuration, $);\r\n                let bs4SelectedItemContent = new Bs4SelectedItemContent(stylingAdapter2, configuration, $);\r\n                let bs4DropDownItemContent = new Bs4DropDownItemContent(stylingAdapter3, configuration, $)\r\n\r\n                \r\n\r\n                let multiSelect = new MultiSelect(optionsAdapter, adapter, bs4SelectedItemContent, bs4DropDownItemContent, labelAdapter, configuration, onDispose, window, $);\r\n                return multiSelect;\r\n            }, $);\r\n    }\r\n)(window, $)\r\n"],"names":["ExtendIfUndefined","destination","source","property","undefined","ExtendIfUndefinedFluent","defaults","selectedPanelFocusClass","selectedPanelDisabledClass","dropDownItemDisabledClass","StylingBs4AdapterCss","configuration","Enable","$selectedPanel","removeClass","Disable","addClass","FocusIn","FocusOut","defSelectedPanelStyle","selectedPanelDefMinHeight","selectedPanelLgMinHeight","selectedPanelSmMinHeight","selectedPanelDisabledBackgroundColor","selectedPanelFocusBorderColor","selectedPanelFocusBoxShadow","selectedPanelFocusValidBoxShadow","selectedPanelFocusInvalidBoxShadow","filterInputColor","StylingBs4AdapterJs","OnInit","dom","selectedPanel","css","filterInput","UpdateSize","hasClass","defSelectedPanelStyleSys","defFilterInputStyleSys","defDropDownMenuStyleSys","getIsValid","getIsInvalid","label","MultiSelect","optionsAdapter","adapter","bs4SelectedItemContent","bs4DropDownItemContent","labelAdapter","onDispose","window","$","Popper","TypeError","container","document","filterInputItem","dropDownMenu","popper","getDisabled","selectedPanelClick","documentMouseup","containerMousedown","documentMouseup2","disabled","filterInputItemOffsetLeft","skipFocusout","hoveredDropDownItem","hoveredDropDownIndex","hasDropDownVisible","$document","init","updateDropDownPosition","force","offsetLeft","update","hideDropDown","style","display","showDropDown","resetDropDownMenuHover","HoverOut","filterDropDownMenu","text","value","trim","toLowerCase","visible","find","each","i","dropDownMenuItem","$dropDownMenuItem","show","itemText","data","option","selected","hidden","indexOf","hide","visibleNodeListArray","getVisibleNodeListArray","hoverInInternal","clearFilterInput","updatePosition","input","closeDropDown","appendDropDownItem","optionElement","isHidden","$dropDownItem","prop","appendTo","dropDownItem","get","adjustDropDownItem","CreateDropDownItemContent","isDisabled","isSelected","disabledStyle","disable","onSelected","toggleItem","focus","selectItem","doPublishEvents","$selectedItem","selectedItem","adjustPair","toggle","remove","select","removeItem","triggerChange","removeItemAndCloseDropDown","onRemoveItemEvent","jqEvent","setTimeout","ProcessedBySelectedItemContentEvent","bsSelectedItemContent","CreateSelectedItemContent","insertBefore","mouseover","HoverIn","mouseout","toArray","index","keydownArrow","down","length","newIndex","forceUpdatePosition","width","Update","UpdateIsValid","UpdateSizeImpl","UpdateDisabledImpl","Dispose","unbind","dispose","destroy","UpdateDisabled","$container","e","mousedown","mouseup","click","createElement","$filterInputItem","$filterInput","$dropDownMenu","event","target","contains","nodeName","val","originalEvent","Init","afterContainerFilled","placement","modifiers","preventOverflow","enabled","flip","options","el","focusin","focusout","on","which","preventDefault","$penult","prev","$hoveredDropDownItem","dropDownItems","querySelectorAll","it","textContent","AddToJQueryPrototype","pluginName","createPlugin","firstChar","charAt","firstCharLower","prototypableName","slice","noConflictPrototypable","fn","dataKey","prototypable","$e","instance","isMethodName","test","optionsObject","removeData","methodName","noConflict","containerClass","dropDownMenuClass","dropDownItemClass","dropDownItemHoverClass","selectedPanelClass","selectedItemClass","removeSelectedItemButtonClass","filterInputItemClass","filterInputClass","Bs4Adapter","stylingAdapter","LabelAdapter","createInputId","backupForId","getAttribute","newForId","attr","setAttribute","OptionsAdapterJson","firstChild","removeChild","trigger","OptionsAdapterElement","selectElement","$selectElement","parentNode","nextSibling","Bs4SelectedItemContentCss","selectedItemContentDisabledClass","DisableSelectedItemContent","$content","defSelectedItemStyle","defRemoveSelectedItemButtonStyle","Bs4SelectedItemContentJs","selectedItemContentDisabledOpacity","$button","Bs4SelectedItemContent","createSelectedItemContent","optionItem","removeSelectedItem","skipProcessingEvent","Bs4DropDownItemContentCss","DisabledStyle","$checkBox","$checkBoxLabel","isDisbaled","Bs4DropDownItemContentJs","dropdDownLabelDisabledColor","Bs4DropDownItemContent","createDropDownItemContent","$dropDownItemContent","element","settings","extend","buildConfiguration","hasOwnProperty","id","classList","$formGroup","closest","$label","forId","name","useCss","stylingAdapter2","stylingAdapter3","multiSelect"],"mappings":"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"}