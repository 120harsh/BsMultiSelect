{"version":3,"sources":["../../js/src/MultiSelect.js","../../js/src/Tools.js","../../js/src/Bs4StylingMethodCss.js","../../js/src/Bs4StylingMethodJs.js","../../js/src/Bs4Styling.js","../../js/src/Bs4SelectedItemContent.js","../../js/src/BsMultiSelect.js","../../js/src/AddToJQueryPrototype.js","../../js/src/OptionsAdapters.js","../../js/src/LabelAdapter.js","../../js/src/Bs4DropDownItemContent.js"],"names":["MultiSelect","optionsAdapter","styling","selectedItemContentFactory","dropDownItemContentFactory","labelAdapter","createStylingComposite","configuration","onDispose","window","$","Popper","TypeError","this","container","document","selectedPanel","filterInputItem","filterInput","dropDownMenu","popper","getDisabled","stylingComposite","selectedPanelClick","documentMouseup","containerMousedown","documentMouseup2","disabled","filterInputItemOffsetLeft","skipFocusout","hoveredDropDownItem","hoveredDropDownIndex","hasDropDownVisible","init","updateDropDownPosition","force","offsetLeft","update","hideDropDown","style","display","showDropDown","resetDropDownMenuHover","HoverOut","filterDropDownMenu","text","value","trim","toLowerCase","visible","dropDownMenuItems","getElementsByTagName","i","length","dropDownMenuItem","itemText","MultiSelectData","optionText","option","selected","hidden","indexOf","visibleNodeListArray","getVisibleNodeListArray","hoverInInternal","clearFilterInput","updatePosition","input","closeDropDown","appendDropDownItem","optionElement","_this","isHidden","dropDownItem","createElement","optionToggle","optionRemove","optionDisable","appendChild","adjustDropDownItem","isDisabled","disabledStyle","disable","onSelected","toggleItem","focus","selectItem","doPublishEvents","selectedItem","adjustPair","isSelected","toggle","remove","select","removeItem","parentNode","removeChild","triggerChange","bsSelectedItemContent","jqEvent","setTimeout","ProcessedBySelectedItemContentEvent","insertBefore","mouseover","HoverIn","mouseout","find","toArray","index","keydownArrow","down","newIndex","forceUpdatePosition","width","Update","UpdateIsValid","getIsValid","getIsInvalid","UpdateSize","UpdateDisabled","Dispose","unbind","dispose","destroy","itarate","selectedPanelItems","_this2","selectedPanelItem","Disable","Enable","mousedown","mouseup","click","_this3","s","flexWrap","listStyleType","defSelectedPanelStyleSys","setAttribute","border","padding","outline","backgroundColor","defFilterInputStyleSys","defDropDownMenuStyleSys","event","target","contains","nodeName","originalEvent","Init","afterContainerFilled","placement","modifiers","preventOverflow","enabled","hide","flip","createDropDownItems","options","readyState","addEventListener","focusin","FocusIn","focusout","FocusOut","on","which","preventDefault","penultSelectedItem","previousElementSibling","dropDownItems","querySelectorAll","it","textContent","ExtendIfUndefined","destination","source","property","undefined","defaults","selectedPanelFocusClass","selectedPanelDisabledClass","dropDownItemDisabledClass","defSelectedPanelStyle","margin-bottom","height","selectedPanelDefMinHeight","selectedPanelLgMinHeight","selectedPanelSmMinHeight","selectedPanelDisabledBackgroundColor","selectedPanelFocusBorderColor","selectedPanelFocusBoxShadow","selectedPanelFocusValidBoxShadow","selectedPanelFocusInvalidBoxShadow","filterInputColor","containerClass","dropDownMenuClass","dropDownItemClass","dropDownItemHoverClass","selectedPanelClass","selectedItemClass","removeSelectedItemButtonClass","filterInputItemClass","filterInputClass","defSelectedItemStyle","padding-left","line-height","defRemoveSelectedItemButtonStyle","font-size","pluginName","createPlugin","firstChar","charAt","firstCharLower","prototypableName","slice","noConflictPrototypable","fn","dataKey","prototypable","each","$e","instance","data","isMethodName","test","removeData","methodName","noConflict","AddToJQueryPrototype","element","settings","extend","buildConfiguration","$element","trigger","eventName","firstChild","OptionsAdapterJson","createInputId","id","label","$formGroup","closest","$label","get","getAttribute","selectElement","nextSibling","classList","OptionsAdapterElement","name","backupedFor","newId","LabelAdapter","adapter","stylingMethod","composite","$container","addClass","$selectedPanel","$dropDownMenu","$filterInputItem","$filterInput","OnInit","isValid","isInvalid","removeClass","Bs4Styling","useCss","Bs4StylingMethodCss","css","hasClass","Bs4StylingMethodJs","stylingAdapter2","selectedItemContentDisabledClass","disableSelectedItemContent","$content","Bs4SelectedItemContentStylingMethodCss","selectedItemContentDisabledOpacity","createSelectedItemContent","$selectedItem","$button","Bs4SelectedItemContentStylingMethodJs","stylingAdapter3","$checkBox","$checkBoxLabel","isDisbaled","Bs4DropDownItemContentStylingMethodCss","dropdDownLabelDisabledColor","Bs4DropDownItemContentStylingMethodJs","bs4SelectedItemContent","optionItem","removeSelectedItem","appendTo","prop","Bs4SelectedItemContent","bs4DropDownItemContent","$dropDownItem","$dropDownItemContent","Bs4DropDownItemContent"],"mappings":"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","sourcesContent":["import Popper from 'popper.js'\r\n\r\nfunction defSelectedPanelStyleSys(s) {s.display='flex'; s.flexWrap='wrap'; s.listStyleType='none'};  // remove bullets since this is ul\r\nfunction defFilterInputStyleSys(s) {s.width='2ch'; s.border='0'; s.padding='0'; s.outline='none'; s.backgroundColor='transparent' };\r\nfunction defDropDownMenuStyleSys(s) {s.listStyleType='none'}; // remove bullets since this is ul\r\n\r\n\r\n// jQuery used for:\r\n// $.contains, $(\"<div>\"), $(function(){}) aka ready\r\n// $e.unbind, $e.on; but namespaces are not used;\r\n// events: \"focusin\", \"focusout\", \"mouseover\", \"mouseout\", \"keydown\", \"keyup\", \"click\"\r\n// $e.show, $e.hide, $e.focus, $e.css\r\n// $e.appendTo, $e.remove, $e.find, $e.closest, $e.prev, $e.data, $e.val\r\n\r\nclass MultiSelect {\r\n    constructor(optionsAdapter, styling, selectedItemContentFactory, dropDownItemContentFactory, labelAdapter, \r\n        createStylingComposite,\r\n        configuration, onDispose, window, $) {\r\n        if (typeof Popper === 'undefined') {\r\n            throw new TypeError('DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)')\r\n        }\r\n        // readonly\r\n        this.optionsAdapter = optionsAdapter;\r\n        this.container = optionsAdapter.container; // part of published api\r\n        this.styling = styling;\r\n        this.labelAdapter=labelAdapter;\r\n        this.window = window;\r\n        this.document = window.document;\r\n        this.onDispose=onDispose;\r\n        this.createStylingComposite=createStylingComposite;\r\n        \r\n        this.configuration = configuration;\r\n        \r\n        this.selectedPanel = null;\r\n        this.filterInputItem = null;\r\n        this.filterInput = null;\r\n        this.dropDownMenu = null;\r\n        this.popper = null;\r\n        this.getDisabled=null;\r\n        this.stylingComposite = null;\r\n\r\n        // removable handlers\r\n        this.selectedPanelClick  = null;\r\n        this.documentMouseup = null;\r\n        this.containerMousedown = null;\r\n        this.documentMouseup2 = null;\r\n        \r\n        // state\r\n        this.disabled = null;\r\n        this.filterInputItemOffsetLeft = null; // used to detect changes in input field position (by comparision with current value)\r\n        this.skipFocusout = false;\r\n        this.hoveredDropDownItem = null;\r\n        this.hoveredDropDownIndex = null;\r\n        this.hasDropDownVisible = false;\r\n        this.selectedItemContentFactory=selectedItemContentFactory;\r\n        this.dropDownItemContentFactory=dropDownItemContentFactory;\r\n\r\n        // jquery adapters\r\n        this.$ = $;\r\n        \r\n        //optionsAdapter(this.fillContainer, this.init);\r\n        this.init();\r\n    }\r\n\r\n    updateDropDownPosition(force) {\r\n        let offsetLeft = this.filterInputItem.offsetLeft;\r\n        if (force || this.filterInputItemOffsetLeft!=offsetLeft){\r\n            this.popper.update();\r\n            this.filterInputItemOffsetLeft=offsetLeft;\r\n        }\r\n    }\r\n    hideDropDown() {\r\n        this.dropDownMenu.style.display = 'none';\r\n    }\r\n    showDropDown() {\r\n        this.dropDownMenu.style.display = 'block';\r\n    }\r\n    // Public methods\r\n    resetDropDownMenuHover() {\r\n        if (this.hoveredDropDownItem !== null) {\r\n            this.styling.HoverOut(this.hoveredDropDownItem);\r\n            this.hoveredDropDownItem = null;\r\n            this.hoveredDropDownIndex = null;\r\n        }\r\n    }\r\n\r\n    filterDropDownMenu() {\r\n        let text = this.filterInput.value.trim().toLowerCase();\r\n        let visible = 0;\r\n        var dropDownMenuItems = this.dropDownMenu.getElementsByTagName('LI');\r\n        for(let i=0;i<dropDownMenuItems.length; i++)\r\n        {\r\n            let dropDownMenuItem = dropDownMenuItems[i];\r\n            \r\n            if (text == '') {\r\n                dropDownMenuItem.style.display='block';\r\n                visible++;\r\n            }\r\n            else {\r\n                //let $dropDownMenuItem = this.$(dropDownMenuItem);\r\n                let itemText = dropDownMenuItem.MultiSelectData.optionText; //$dropDownMenuItem.data(\"option-text\");\r\n                let option = dropDownMenuItem.MultiSelectData.option;//$dropDownMenuItem.data(\"option\");\r\n                if (!option.selected && !option.hidden && !option.disabled && itemText.indexOf(text)>=0) {\r\n                    dropDownMenuItem.style.display='block';\r\n                    visible++;\r\n                } else {\r\n                    dropDownMenuItem.style.display='none';\r\n                }\r\n            }\r\n        }\r\n        this.hasDropDownVisible = visible > 0;\r\n        this.resetDropDownMenuHover();\r\n        if (visible == 1) {\r\n            let visibleNodeListArray = this.getVisibleNodeListArray();\r\n            this.hoverInInternal(visibleNodeListArray, 0)\r\n        }\r\n    }\r\n\r\n    clearFilterInput(updatePosition) {\r\n        if (this.filterInput.value) {\r\n            this.filterInput.value = '';\r\n            this.input(updatePosition);\r\n        }\r\n    }\r\n\r\n    closeDropDown() {\r\n        this.resetDropDownMenuHover();\r\n        this.clearFilterInput(true);\r\n        this.hideDropDown();\r\n    }\r\n    \r\n    appendDropDownItem(optionElement) {\r\n        let isHidden = optionElement.hidden;\r\n        let itemText = optionElement.text;\r\n        //let $dropDownItem = this.$(\"<LI/>\").prop(\"hidden\", isHidden)\r\n        //let dropDownItem = $dropDownItem.get(0);\r\n        //let dropDownItem = \r\n        var dropDownItem=this.document.createElement('LI');\r\n        dropDownItem.hidden=isHidden;\r\n        \r\n        var MultiSelectData={\r\n            optionText: itemText.toLowerCase(), \r\n            option:optionElement, \r\n            optionToggle:null,\r\n            optionRemove:null,\r\n            optionDisable:null,\r\n        };\r\n        dropDownItem.MultiSelectData=MultiSelectData;\r\n        //this.$(dropDownItem).data(\"option-text\", itemText.toLowerCase())\r\n            \r\n        //this.$(dropDownItem).data(\"option\", optionElement);\r\n        this.dropDownMenu.appendChild(dropDownItem); \r\n        \r\n        \r\n        let adjustDropDownItem = this.dropDownItemContentFactory(dropDownItem, optionElement); \r\n        let isDisabled = optionElement.disabled;\r\n        let isSelected = optionElement.selected;\r\n\r\n        if (isSelected && isDisabled)\r\n            adjustDropDownItem.disabledStyle(true);\r\n        else if (isDisabled)\r\n            adjustDropDownItem.disable(isDisabled);\r\n       \r\n        adjustDropDownItem.onSelected(() => {\r\n            let toggleItem = dropDownItem.MultiSelectData.optionToggle; // this.$(dropDownItem).data(\"option-toggle\");\r\n            toggleItem();\r\n            this.filterInput.focus();\r\n        });\r\n        \r\n        let selectItem = (doPublishEvents) => {\r\n            if (optionElement.hidden)\r\n                return;\r\n            var selectedItem = this.document.createElement('LI');\r\n            selectedItem.MultiSelectData=MultiSelectData;\r\n            let adjustPair =(isSelected, toggle, remove, disable) => {\r\n                optionElement.selected = isSelected;\r\n                adjustDropDownItem.select(isSelected);\r\n                MultiSelectData.optionToggle=toggle; //this.$(dropDownItem).data(\"option-toggle\", toggle);                    \r\n                MultiSelectData.optionRemove=remove;\r\n                MultiSelectData.optionDisable=disable;\r\n            }\r\n\r\n            let removeItem = () => {\r\n                adjustDropDownItem.disabledStyle(false);\r\n                adjustDropDownItem.disable(optionElement.disabled);\r\n                adjustPair(\r\n                    false, \r\n                    () => {\r\n                        if (optionElement.disabled)\r\n                            return;\r\n                        selectItem(true);\r\n                    }, \r\n                    null,\r\n                    null\r\n                    );\r\n                selectedItem.parentNode.removeChild(selectedItem);\r\n                this.optionsAdapter.triggerChange();\r\n            };\r\n            \r\n            // what is a problem with calling removeSelectedItem directly (not using  setTimeout(removeSelectedItem, 0)):\r\n            // consider situation \"MultiSelect\" on DROPDOWN (that should be closed on the click outside dropdown)\r\n            // therefore we aslo have document's click's handler where we decide to close or leave the DROPDOWN open.\r\n            // because of the event's bubling process removeSelectedItem runs first. \r\n            // that means the event's target element on which we click (the x button) will be removed from the DOM together with badge \r\n            // before we could analize is it belong to our dropdown or not.\r\n            // important 1: we can't just the stop propogation using stopPropogate because click outside dropdown on the similar \r\n            // component that use stopPropogation will not close dropdown (error, dropdown should be closed)\r\n            // important 2: we can't change the dropdown's event handler to leave dropdown open if event's target is null because of\r\n            // the situation described above: click outside dropdown on the same component.\r\n            // Alternatively it could be possible to use stopPropogate but together create custom click event setting new target that belomgs to DOM (e.g. panel)\r\n\r\n            let removeItemAndCloseDropDown = () => {\r\n                removeItem();\r\n                this.closeDropDown();\r\n            };\r\n\r\n            let onRemoveItemEvent = (jqEvent) => {\r\n                setTimeout( ()=> {  \r\n                    removeItem();\r\n                    this.closeDropDown();\r\n                }, 0);\r\n                this.ProcessedBySelectedItemContentEvent=jqEvent;\r\n            };\r\n\r\n            let bsSelectedItemContent = this.selectedItemContentFactory(\r\n                selectedItem,\r\n                optionElement,\r\n                onRemoveItemEvent\r\n            );\r\n            //bsSelectedItemContentList.push(bsSelectedItemContent);\r\n            bsSelectedItemContent.disable(this.disabled);\r\n            adjustPair(true, ()=>removeItem(), removeItemAndCloseDropDown, bsSelectedItemContent.disable);\r\n            //$selectedItem.insertBefore(this.filterInputItem);\r\n            this.selectedPanel.insertBefore(selectedItem, this.filterInputItem);\r\n            if (doPublishEvents){\r\n                this.optionsAdapter.triggerChange();\r\n            }\r\n        }\r\n\r\n        this.$(dropDownItem)\r\n            .mouseover(() => this.styling.HoverIn(dropDownItem))\r\n            .mouseout(() => this.styling.HoverOut(dropDownItem));\r\n        \r\n        if (optionElement.selected)\r\n            selectItem(false);\r\n        else\r\n            MultiSelectData.optionToggle= () => { \r\n                if (optionElement.disabled)\r\n                    return;\r\n                selectItem(true);\r\n            }\r\n    }\r\n    getVisibleNodeListArray(){\r\n        return this.$(this.dropDownMenu).find('LI:not([style*=\"display: none\"]):not(:hidden)').toArray();\r\n    }\r\n    hoverInInternal(visibleNodeListArray, index){\r\n        this.hoveredDropDownIndex = index;\r\n        this.hoveredDropDownItem = visibleNodeListArray[index];\r\n        this.styling.HoverIn(this.hoveredDropDownItem);\r\n    }\r\n    keydownArrow(down) {\r\n        let visibleNodeListArray = this.getVisibleNodeListArray();\r\n        if (visibleNodeListArray.length > 0) {\r\n            if (this.hasDropDownVisible) {\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            let index;\r\n            if (this.hoveredDropDownItem === null) {\r\n                index = down ? 0 : visibleNodeListArray.length - 1;\r\n            }\r\n            else {\r\n                this.styling.HoverOut(this.hoveredDropDownItem);\r\n                if (down) {\r\n                    let newIndex = this.hoveredDropDownIndex + 1;\r\n                    index = newIndex < visibleNodeListArray.length ? newIndex : 0;\r\n                } else {\r\n                    let newIndex = this.hoveredDropDownIndex - 1;\r\n                    index = newIndex >= 0 ? newIndex : visibleNodeListArray.length - 1;\r\n                }\r\n            }\r\n            this.hoverInInternal(visibleNodeListArray, index);\r\n        }\r\n    }\r\n    input(forceUpdatePosition) {\r\n        this.filterInput.style.width = this.filterInput.value.length*1.3 + 2 + \"ch\";\r\n        this.filterDropDownMenu();\r\n\r\n        if (this.hasDropDownVisible) {\r\n            if (forceUpdatePosition) // ignore it if it is called from\r\n                this.updateDropDownPosition(forceUpdatePosition); // we need it to support case when textbox changes its place because of line break (texbox grow with each key press)\r\n            this.showDropDown();\r\n        } else {\r\n            this.hideDropDown();\r\n        }\r\n    }\r\n    Update(){\r\n        this.styling.UpdateIsValid(this.stylingComposite, this.optionsAdapter.getIsValid(), this.optionsAdapter.getIsInvalid());\r\n        this.UpdateSize();\r\n        this.UpdateDisabled();\r\n    }\r\n    Dispose(){\r\n        if (this.onDispose)\r\n            this.onDispose(); // primary used to remove from jQuery tables\r\n        \r\n        // removable handlers\r\n        this.$(this.document).unbind(\"mouseup\", this.documentMouseup)\r\n                      .unbind(\"mouseup\", this.documentMouseup2);\r\n        \r\n        this.labelAdapter.dispose();\r\n        \r\n        if (this.popper !== null) {\r\n            this.popper.destroy()\r\n        }\r\n        \r\n        if (this.optionsAdapter.dispose) {\r\n            this.optionsAdapter.dispose();\r\n        }\r\n    }\r\n    UpdateSize(){\r\n        if (this.styling.UpdateSize)\r\n            this.styling.UpdateSize(this.stylingComposite);\r\n    }\r\n\r\n    UpdateDisabled(){\r\n        let disabled = this.optionsAdapter.getDisabled();\r\n        let itarate = (isDisabled)=>{\r\n            let selectedPanelItems = this.selectedPanel.getElementsByTagName('LI'); // TODO : improove\r\n            for(let i =0; i<selectedPanelItems.length; i++)\r\n            {\r\n                let selectedPanelItem = selectedPanelItems[i];\r\n                if (selectedPanelItem.MultiSelectData)\r\n                    selectedPanelItem.MultiSelectData.optionDisable(isDisabled); \r\n            }\r\n        }\r\n        if (this.disabled!==disabled){\r\n            if (disabled) {\r\n                this.filterInput.style.display = \"none\";\r\n                this.styling.Disable(this.stylingComposite);\r\n                itarate(true);\r\n                    \r\n                this.$(this.container).unbind(\"mousedown\", this.containerMousedown);\r\n                this.$(this.document).unbind(\"mouseup\", this.documentMouseup);\r\n\r\n                this.$(this.selectedPanel).unbind(\"click\", this.selectedPanelClick);\r\n                this.$(this.document).unbind(\"mouseup\", this.documentMouseup2);\r\n            } else {\r\n                this.filterInput.style.display = \"inline-block\";\r\n                this.styling.Enable(this.stylingComposite);\r\n                itarate(false);\r\n\r\n                this.$(this.container).mousedown(this.containerMousedown); // removable\r\n                this.$(this.document).mouseup(this.documentMouseup);  // removable\r\n\r\n                this.$(this.selectedPanel).click(this.selectedPanelClick); // removable\r\n                this.$(this.document).mouseup(this.documentMouseup2); // removable\r\n            }\r\n            this.disabled=disabled;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        let container = this.optionsAdapter.container;\r\n        this.selectedPanel = this.document.createElement('UL');\r\n        defSelectedPanelStyleSys(this.selectedPanel.style); \r\n        container.appendChild(this.selectedPanel);\r\n        \r\n        this.filterInputItem = this.document.createElement('LI');\r\n        this.selectedPanel.appendChild(this.filterInputItem);\r\n        \r\n        this.filterInput = document.createElement('INPUT'); //$filterInput.get(0);\r\n        this.filterInput.setAttribute(\"type\",\"search\");\r\n        this.filterInput.setAttribute(\"autocomplete\",\"off\");\r\n        \r\n        defFilterInputStyleSys(this.filterInput.style);\r\n        this.filterInputItem.appendChild(this.filterInput);\r\n\r\n        this.dropDownMenu = document.createElement('UL');\r\n        this.dropDownMenu.style.display=\"none\";\r\n        this.container.appendChild(this.dropDownMenu);\r\n        \r\n        // prevent heavy understandable styling error\r\n        defDropDownMenuStyleSys(this.dropDownMenu.style);\r\n       \r\n        this.documentMouseup = () => {\r\n            this.skipFocusout = false;\r\n        }\r\n\r\n        this.containerMousedown = () => {\r\n            this.skipFocusout = true;\r\n        };\r\n        this.documentMouseup2 = event => {\r\n            if (!(container === event.target || container.contains(event.target))) { // IE8+\r\n                this.closeDropDown();\r\n            }\r\n        }\r\n        this.selectedPanelClick = jqEvent => {\r\n            if (jqEvent.target.nodeName != \"INPUT\") // TODO: should be improoved\r\n            {   this.filterInput.value='';\r\n                this.filterInput.focus();\r\n                // event.preventDefault()  // TODO: should I use preventDefault this ?  click can move focus...\r\n            }\r\n            if (this.hasDropDownVisible &&  (this.ProcessedBySelectedItemContentEvent==null || this.ProcessedBySelectedItemContentEvent.originalEvent!=jqEvent.originalEvent)){\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            this.ProcessedBySelectedItemContentEvent=null;\r\n        };\r\n        this.stylingComposite = this.createStylingComposite(container, this.selectedPanel,\r\n            this.filterInputItem, this.filterInput, this.dropDownMenu);\r\n        \r\n        \r\n        this.styling.Init(this.stylingComposite);\r\n        \r\n        this.labelAdapter.init(this.filterInput); \r\n\r\n        if (this.optionsAdapter.afterContainerFilled)\r\n            this.optionsAdapter.afterContainerFilled();\r\n        this.popper = new Popper(this.filterInput, this.dropDownMenu, {\r\n            placement: 'bottom-start',\r\n            modifiers: {\r\n                preventOverflow: {enabled:false},\r\n                hide: {enabled:false},\r\n                flip: {enabled:false}\r\n                }\r\n        });\r\n        \r\n        this.styling.UpdateIsValid(this.stylingComposite, this.optionsAdapter.getIsValid(), this.optionsAdapter.getIsInvalid());\r\n        \r\n        this.UpdateSize();\r\n        this.UpdateDisabled();\r\n        \r\n        let createDropDownItems = ()=>{\r\n            let options = this.optionsAdapter.options;\r\n            for(let i =0; i<options.length; i++) {\r\n                this.appendDropDownItem(options[i]);\r\n            }\r\n            this.hasDropDownVisible = options.length > 0;\r\n            this.updateDropDownPosition(false);\r\n        }\r\n        // some browsers (IE11) can change select value (as part of \"autocomplete\") after page is loaded but before \"ready\" event\r\n        if (this.document.readyState != 'loading'){\r\n            createDropDownItems();\r\n        } else {\r\n            this.document.addEventListener('DOMContentLoaded', createDropDownItems); // IE9+\r\n        }\r\n        // there was unmotivated stopPropagation call. commented out.\r\n        // $dropDownMenu.click(  event => { \r\n        //    event.stopPropagation();\r\n        // });\r\n        this.$(this.dropDownMenu).mouseover(() => this.resetDropDownMenuHover());\r\n\r\n        this.$(this.filterInput).focusin(() => this.styling.FocusIn(this.stylingComposite))\r\n                    .focusout(() => {\r\n                            if (!this.skipFocusout)\r\n                                this.styling.FocusOut(this.stylingComposite)\r\n                            });\r\n        this.$(this.filterInput).on(\"keydown\", (event) => {\r\n            if ([38, 40, 13].indexOf(event.which)>=0 || (event.which == 9 && this.filterInput.value) ) {\r\n                event.preventDefault();\r\n            }\r\n\r\n            if (event.which == 38) {\r\n                this.keydownArrow(false);\r\n            }\r\n            else if (event.which == 40) {\r\n                if (this.hoveredDropDownItem === null && this.hasDropDownVisible) {\r\n                    this.showDropDown();\r\n                }\r\n                this.keydownArrow(true);\r\n            }\r\n            else if (event.which == 9) {\r\n                if (!this.filterInput.value) {\r\n                    this.closeDropDown();\r\n                }\r\n            }\r\n            else if (event.which == 8) {\r\n                // NOTE: this will process backspace only if there are no text in the input field\r\n                // If user will find this inconvinient, we will need to calculate something like this\r\n                // this.isBackspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\r\n                if (!this.filterInput.value)\r\n                {\r\n                    let penultSelectedItem = this.filterInputItem.previousElementSibling; // IE9+\r\n                    if (penultSelectedItem && penultSelectedItem.MultiSelectData){\r\n                        penultSelectedItem.MultiSelectData.optionRemove();\r\n                    }\r\n                    this.updateDropDownPosition(false);\r\n                }\r\n            }\r\n\r\n            if ([38, 40, 13, 9].indexOf(event.which)==-1)\r\n                this.resetDropDownMenuHover();\r\n        });\r\n        this.$(this.filterInput).on(\"keyup\", (event) => {\r\n            if (event.which == 13 || event.which == 9 ) {\r\n                if (this.hoveredDropDownItem) {\r\n                    this.hoveredDropDownItem.MultiSelectData.optionToggle();\r\n                    this.closeDropDown();\r\n                } else {\r\n                    let text = this.filterInput.value.trim().toLowerCase();\r\n                    let dropDownItems = this.dropDownMenu.querySelectorAll(\"LI\");\r\n                    let dropDownItem = null;\r\n                    for (let i = 0; i < dropDownItems.length; ++i) {\r\n                        let it = dropDownItems[i];\r\n                        if (it.textContent.trim().toLowerCase() == text)\r\n                        {\r\n                            dropDownItem=it;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (dropDownItem) {\r\n                        let option = dropDownItem.MultiSelectData.option;\r\n                        if (!option.selected){\r\n                            dropDownItem.MultiSelectData.optionToggle();\r\n                        }\r\n                        this.clearFilterInput(true);\r\n                    }\r\n                }\r\n            }\r\n            else if (event.which == 27) { // escape\r\n                this.closeDropDown();\r\n            }\r\n        });\r\n        this.$(this.filterInput).on('input', () => {\r\n            this.input(true);\r\n        });\r\n    }\r\n}\r\n\r\nexport default MultiSelect;\r\n","export function ExtendIfUndefined(destination, source) {\r\n    for (var property in source)\r\n        if (destination[property] === undefined)\r\n            destination[property] = source[property];\r\n}\r\n\r\nexport function ExtendIfUndefinedFluent(destination, source) {\r\n    ExtendIfUndefined(destination, source);\r\n    return destination;\r\n}","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defaults = {\r\n    selectedPanelFocusClass : 'focus',\r\n    selectedPanelDisabledClass: 'disabled',\r\n    dropDownItemDisabledClass: 'disabled'\r\n};\r\n\r\nfunction Bs4StylingMethodCss(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        Enable($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelFocusClass);\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelFocusClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Bs4StylingMethodCss;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defSelectedPanelStyle = {'margin-bottom': '0', 'height': 'auto'};\r\n\r\nconst defaults = {\r\n    selectedPanelDefMinHeight: 'calc(2.25rem + 2px)',\r\n    selectedPanelLgMinHeight:  'calc(2.875rem + 2px)',\r\n    selectedPanelSmMinHeight:  'calc(1.8125rem + 2px)',\r\n    selectedPanelDisabledBackgroundColor: '#e9ecef',\r\n    selectedPanelFocusBorderColor: '#80bdff',\r\n    selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)',\r\n    selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)',\r\n    selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',\r\n    filterInputColor: '#495057',\r\n    //selectedItemContentDisabledOpacity: '.65'\r\n};\r\n\r\nfunction Bs4StylingMethodJs(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        OnInit(composite){\r\n            composite.$selectedPanel.css(defSelectedPanelStyle);\r\n            composite.$filterInput.css(\"color\", configuration.filterInputColor);\r\n        },\r\n    \r\n        UpdateSize($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"form-control-lg\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelLgMinHeight);\r\n            } else if ($selectedPanel.hasClass(\"form-control-sm\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelSmMinHeight);\r\n            } else {\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelDefMinHeight);\r\n            }\r\n        },\r\n    \r\n        Enable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", \"\")\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", configuration.selectedPanelDisabledBackgroundColor)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"is-valid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusValidBoxShadow);\r\n            } else if ($selectedPanel.hasClass(\"is-invalid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusInvalidBoxShadow);\r\n            } else {\r\n                $selectedPanel\r\n                    .css(\"box-shadow\", configuration.selectedPanelFocusBoxShadow)\r\n                    .css(\"border-color\", configuration.selectedPanelFocusBorderColor);\r\n            }\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n                $selectedPanel.css(\"box-shadow\", \"\" ).css(\"border-color\", \"\")\r\n        },\r\n    }\r\n}\r\n\r\n\r\nexport default Bs4StylingMethodJs;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\n// addClass, removeClass, css, siblings('label'), hasClass, find('BUTTON').prop(..)\r\nconst defaults = {\r\n    containerClass: 'dashboardcode-bsmultiselect',\r\n    dropDownMenuClass: 'dropdown-menu',\r\n    dropDownItemClass:  'px-2',\r\n    dropDownItemHoverClass: 'text-primary bg-light',\r\n    selectedPanelClass: 'form-control',\r\n    selectedItemClass: 'badge',\r\n    removeSelectedItemButtonClass: 'close',\r\n    filterInputItemClass: '',\r\n    filterInputClass: ''\r\n}\r\n\r\nfunction Bs4Styling(stylingMethod, configuration, $) {\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return{\r\n        Init(composite){\r\n            composite.$container.addClass(configuration.containerClass);\r\n            composite.$selectedPanel.addClass(configuration.selectedPanelClass);\r\n            composite.$dropDownMenu.addClass(configuration.dropDownMenuClass);\r\n            composite.$filterInputItem.addClass(configuration.filterInputItemClass);\r\n            composite.$filterInput.addClass(configuration.filterInputClass);\r\n            if (stylingMethod.OnInit)\r\n                stylingMethod.OnInit(composite)\r\n        },\r\n\r\n        UpdateIsValid(composite, isValid, isInvalid){\r\n            if (isValid)\r\n                composite.$selectedPanel.addClass('is-valid');\r\n\r\n            if (isInvalid)\r\n                composite.$selectedPanel.addClass('is-invalid');\r\n        },\r\n\r\n        UpdateSize(composite){\r\n            if(stylingMethod.UpdateSize)\r\n               stylingMethod.UpdateSize(composite.$selectedPanel)\r\n        },\r\n\r\n        Enable(composite){\r\n            stylingMethod.Enable(composite.$selectedPanel)\r\n        },\r\n\r\n        Disable(composite){\r\n            stylingMethod.Disable(composite.$selectedPanel)\r\n        },\r\n\r\n        FocusIn(composite){\r\n            stylingMethod.FocusIn(composite.$selectedPanel)\r\n        },\r\n\r\n        FocusOut(composite){\r\n            stylingMethod.FocusOut(composite.$selectedPanel)\r\n        },\r\n\r\n        HoverIn(dropDownItem){\r\n            $(dropDownItem).addClass(configuration.dropDownItemHoverClass);\r\n        },\r\n\r\n        HoverOut(dropDownItem){\r\n            $(dropDownItem).removeClass(configuration.dropDownItemHoverClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Bs4Styling;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nfunction Bs4SelectedItemContentStylingMethodCss(configuration) {\r\n    const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        disableSelectedItemContent($content){\r\n            $content.addClass(configuration.selectedItemContentDisabledClass )\r\n        }\r\n    }\r\n}\r\n\r\nconst defSelectedItemStyle = {'padding-left': '0px', 'line-height': '1.5em'};\r\nconst defRemoveSelectedItemButtonStyle = {'font-size':'1.5em', 'line-height': '.9em'};\r\n\r\nfunction Bs4SelectedItemContentStylingMethodJs(configuration) {\r\n    const defaults = {\r\n       selectedItemContentDisabledOpacity: '.65',\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n    \r\n    return {\r\n        disableSelectedItemContent($content){\r\n            $content.css(\"opacity\", configuration.selectedItemContentDisabledOpacity )\r\n        },\r\n    \r\n        createSelectedItemContent($selectedItem, $button){\r\n            $selectedItem.css(defSelectedItemStyle);\r\n            if ($button)\r\n                $button.css(defRemoveSelectedItemButtonStyle);\r\n        }\r\n    }\r\n}\r\n\r\nfunction Bs4SelectedItemContent(stylingMethod, configuration, $) {\r\n        const defaults = {\r\n            selectedItemClass: 'badge',\r\n            removeSelectedItemButtonClass: 'close'\r\n        };\r\n        ExtendIfUndefined(configuration, defaults);\r\n        \r\n        return function (selectedItem, optionItem, removeSelectedItem){\r\n                let $selectedItem = $(selectedItem)\r\n                $selectedItem.addClass(configuration.selectedItemClass);\r\n                let $content = $(`<span/>`).text(optionItem.text);\r\n                $content.appendTo($selectedItem);\r\n                if (optionItem.disabled)\r\n                    stylingMethod.disableSelectedItemContent($content);\r\n                let $button = $('<button aria-label=\"Close\" tabIndex=\"-1\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>')\r\n                    // bs 'close' class that will be added to button set the float:right, therefore it impossible to configure no-warp policy \r\n                    // with .css(\"white-space\", \"nowrap\") or  .css(\"display\", \"inline-block\"); TODO: migrate to flex? \r\n                    .css(\"float\", \"none\").appendTo($selectedItem)\r\n                    .addClass(configuration.removeSelectedItemButtonClass) // bs close class set the float:right\r\n                    .on(\"click\", (jqEvent) => removeSelectedItem(jqEvent));\r\n                \r\n                if (stylingMethod.createSelectedItemContent)\r\n                    stylingMethod.createSelectedItemContent($selectedItem, $button);\r\n                return {\r\n                    disable(isDisabled){ $button.prop('disabled', isDisabled); }\r\n                };\r\n            }\r\n    \r\n}\r\n\r\nexport { Bs4SelectedItemContent as Bs4SelectedItemContent, Bs4SelectedItemContentStylingMethodJs, Bs4SelectedItemContentStylingMethodCss};\r\n","import $ from 'jquery'\r\n\r\nimport MultiSelect from './MultiSelect'\r\nimport LabelAdapter from './LabelAdapter';\r\nimport {OptionsAdapterJson,OptionsAdapterElement} from './OptionsAdapters';\r\n\r\nimport Bs4StylingMethodCss from './Bs4StylingMethodCss'\r\nimport Bs4StylingMethodJs from './Bs4StylingMethodJs'\r\nimport Bs4Styling from './Bs4Styling';\r\nimport AddToJQueryPrototype from './AddToJQueryPrototype'\r\n\r\nimport { Bs4SelectedItemContent, Bs4SelectedItemContentStylingMethodJs, Bs4SelectedItemContentStylingMethodCss} from './Bs4SelectedItemContent';\r\nimport { Bs4DropDownItemContent, Bs4DropDownItemContentStylingMethodJs, Bs4DropDownItemContentStylingMethodCss } from './Bs4DropDownItemContent';\r\n\r\n(\r\n    (window, $) => {\r\n        AddToJQueryPrototype('BsMultiSelect',\r\n            (element, settings, onDispose) => {\r\n                let configuration = $.extend({}, settings); // settings used per jQuery intialization, configuration per element\r\n                if (configuration.buildConfiguration)\r\n                    configuration.buildConfiguration(element, configuration);\r\n                var $element= $(element);\r\n                let optionsAdapter = null;\r\n                if (configuration.optionsAdapter)\r\n                    optionsAdapter = configuration.optionsAdapter;\r\n                else\r\n                {\r\n                    var trigger = function(eventName){\r\n                        $element.trigger(eventName);\r\n                    }\r\n                    if (configuration.options){\r\n                        optionsAdapter = OptionsAdapterJson(element, configuration.options, \r\n                            configuration.getDisabled, configuration.getIsValid, configuration.getIsInvalid,\r\n                            trigger );\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-filter-${element.id}`;\r\n            \r\n                    }else {\r\n                        if (!configuration.label)\r\n                        {\r\n                            let $formGroup = $(element).closest('.form-group');\r\n                            if ($formGroup.length == 1) {\r\n                                let $label = $formGroup.find(`label[for=\"${element.id}\"]`);\r\n                                if ($label.length>0)\r\n                                {   \r\n                                    let label = $label.get(0);\r\n                                    let forId = label.getAttribute('for');\r\n                                    if (forId == element.id) {\r\n                                        configuration.label = label;\r\n                                    }\r\n                                }   \r\n                            }\r\n                        }\r\n                        optionsAdapter = OptionsAdapterElement(element, trigger);\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-input-${((element.id)?element.id:element.name).toLowerCase()}-id`;\r\n                    }\r\n                }\r\n\r\n                let labelAdapter = LabelAdapter(configuration.label, configuration.createInputId);\r\n\r\n                let adapter=null;\r\n                if (configuration.adapter)\r\n                    adapter = configuration.adapter;\r\n                else\r\n                {\r\n                    let stylingMethod = configuration.useCss\r\n                        ? Bs4StylingMethodCss(configuration)\r\n                        : Bs4StylingMethodJs(configuration);\r\n                    adapter = Bs4Styling(stylingMethod, configuration, $);\r\n                }\r\n\r\n                let stylingAdapter2 = configuration.useCss\r\n                    ? Bs4SelectedItemContentStylingMethodCss(configuration, $)\r\n                    : Bs4SelectedItemContentStylingMethodJs(configuration, $);\r\n                let stylingAdapter3 = configuration.useCss\r\n                    ? Bs4DropDownItemContentStylingMethodCss(configuration, $)\r\n                    : Bs4DropDownItemContentStylingMethodJs(configuration, $);\r\n                let bs4SelectedItemContent = Bs4SelectedItemContent(stylingAdapter2, configuration, $);\r\n                let bs4DropDownItemContent = Bs4DropDownItemContent(stylingAdapter3, configuration, $)\r\n\r\n                let createStylingComposite = function(container, selectedPanel, filterInputItem, filterInput, dropDownMenu){\r\n                    return {\r\n                        $container:$(container), $selectedPanel:$(selectedPanel),\r\n                        $filterInputItem:$(filterInputItem), $filterInput:$(filterInput),\r\n                        $dropDownMenu:$(dropDownMenu)\r\n                        };\r\n                }\r\n                let multiSelect = new MultiSelect(optionsAdapter, adapter, bs4SelectedItemContent, bs4DropDownItemContent, \r\n                    labelAdapter, createStylingComposite, configuration, onDispose, window, $);\r\n                return multiSelect;\r\n            }, $);\r\n    }\r\n)(window, $)\r\n","function AddToJQueryPrototype(pluginName, createPlugin, $){\r\n    const firstChar = pluginName.charAt(0);\r\n    const firstCharLower = firstChar.toLowerCase();\r\n    if (firstCharLower == firstChar) {\r\n        throw new TypeError(`Plugin name '${pluginName}' should be started from upper case char`)\r\n    }\r\n    const prototypableName = firstCharLower + pluginName.slice(1)\r\n    const noConflictPrototypable = $.fn[prototypableName];\r\n    const dataKey = `DashboardCode.${pluginName}`;\r\n\r\n    function prototypable(options) {\r\n        return this.each( function () {\r\n            let $e = $(this);\r\n            let instance = $e.data(dataKey)\r\n            let isMethodName = typeof options === 'string';\r\n            if (!instance) {\r\n                if (isMethodName && /Dispose/.test(options)) {\r\n                    return;\r\n                }\r\n                const optionsObject = (typeof options === 'object')?options:null;\r\n\r\n                instance = createPlugin(this, optionsObject,\r\n                    () => {\r\n                        $e.removeData(dataKey)\r\n                    });\r\n                $e.data(dataKey, instance);\r\n            }\r\n\r\n            if (isMethodName) {\r\n                let methodName = options;\r\n                if (typeof instance[methodName] === 'undefined') {\r\n                    throw new TypeError(`No method named '${methodName}'`)\r\n                }\r\n                instance[methodName]()\r\n            }\r\n        })\r\n    }\r\n\r\n    $.fn[prototypableName] = prototypable;\r\n\r\n    // pluginName with first capitalized letter - return plugin instance for 1st $selected item\r\n    $.fn[pluginName] = function () {\r\n        return $(this).data(dataKey);\r\n    };\r\n\r\n    $.fn[prototypableName].noConflict = function () {\r\n        $.fn[prototypableName] = noConflictPrototypable\r\n        return prototypable;\r\n    }\r\n}\r\n\r\nexport default AddToJQueryPrototype\r\n","function OptionsAdapterJson(container, options, getDisabled, getIsValid, getIsInvalid, trigger) {\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            while (container.firstChild) container.removeChild(container.firstChild);\r\n        },\r\n        triggerChange(){\r\n            trigger('multiselect:change');\r\n        },\r\n        getDisabled(){\r\n            return getDisabled?getDisabled():false;\r\n        },\r\n        getIsValid(){\r\n            return getIsValid?getIsValid():false;\r\n        },\r\n        getIsInvalid(){\r\n            return getIsInvalid?getIsInvalid():false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction OptionsAdapterElement(selectElement, trigger) {\r\n    selectElement.style.display='none';\r\n    var container = document.createElement('div');\r\n    var options = selectElement.getElementsByTagName('OPTION');\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            container.parentNode.removeChild(container);\r\n        },\r\n        afterContainerFilled(){\r\n            selectElement.parentNode.insertBefore(container, selectElement.nextSibling);\r\n        },\r\n        triggerChange(){\r\n            trigger('change');\r\n            trigger('multiselect:change');\r\n        },\r\n        getDisabled(){\r\n            return selectElement.disabled;\r\n        },\r\n        getIsValid(){\r\n            return selectElement.classList.contains('is-valid');\r\n        },\r\n        getIsInvalid(){\r\n            return selectElement.classList.contains('is-invalid');\r\n        }\r\n    }\r\n}\r\n\r\nexport {OptionsAdapterJson, OptionsAdapterElement};\r\n","function LabelAdapter(label, createInputId){\r\n    var backupedFor = null; // state saved between init and dispose\r\n    return {\r\n        init(filterInput) {\r\n            if (label) {\r\n                backupedFor = label.getAttribute('for');\r\n                var newId = createInputId();\r\n                filterInput.setAttribute('id', newId);\r\n                label.setAttribute('for',newId);\r\n            }\r\n        },\r\n        dispose(){\r\n            if(backupedFor)\r\n                label.setAttribute('for',backupedFor);\r\n        }\r\n    }\r\n}\r\n\r\nexport default LabelAdapter;","import  { ExtendIfUndefined} from './Tools';\r\n\r\nfunction Bs4DropDownItemContentStylingMethodCss(configuration) {\r\n    const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n    return {\r\n        disabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n            if (isDisbaled) \r\n                $checkBox.addClass(configuration.dropDownItemDisabledClass);\r\n            else\r\n                $checkBox.removeClass(configuration.dropDownItemDisabledClass);\r\n        }\r\n    }\r\n}\r\n\r\nfunction Bs4DropDownItemContentStylingMethodJs(configuration) {\r\n    const defaults = {\r\n            selectedItemContentDisabledOpacity: '.65',\r\n            dropdDownLabelDisabledColor: '#6c757d'\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n    return{\r\n        disabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n            $checkBoxLabel.css('color', isDisbaled?configuration.dropdDownLabelDisabledColor:'')\r\n        }\r\n    }\r\n}\r\n\r\nfunction Bs4DropDownItemContent(stylingMethod, configuration, $) {\r\n    const defaults = {\r\n            dropDownItemClass:  'px-2',\r\n    }\r\n    ExtendIfUndefined(configuration, defaults);\r\n    return function(dropDownItem, option){\r\n                let $dropDownItem = $(dropDownItem);\r\n                $dropDownItem.addClass(configuration.dropDownItemClass);\r\n                let $dropDownItemContent= $(`<div class=\"custom-control custom-checkbox\">\r\n                    <input type=\"checkbox\" class=\"custom-control-input\">\r\n                    <label class=\"custom-control-label\"></label>\r\n                </div>`);\r\n                $dropDownItemContent.appendTo(dropDownItem);\r\n                let $checkBox = $dropDownItemContent.find(`INPUT[type=\"checkbox\"]`);\r\n                let $checkBoxLabel = $dropDownItemContent.find(`label`);\r\n                $checkBoxLabel.text(option.text);\r\n\r\n                return { \r\n                    select(isSelected){ $checkBox.prop('checked', isSelected); }, \r\n                    disable(isDisabled){ $checkBox.prop('disabled', isDisabled); },\r\n                    disabledStyle(isDisbaled){ stylingMethod.disabledStyle($checkBox, $checkBoxLabel, isDisbaled); },\r\n                    onSelected(toggle) {\r\n                        $checkBox.on(\"change\", toggle)\r\n                        $dropDownItem.on(\"click\", event => {\r\n                            if (dropDownItem === event.target || $.contains(dropDownItem, event.target)) {\r\n                                toggle();\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n}\r\n\r\nexport { Bs4DropDownItemContent, Bs4DropDownItemContentStylingMethodJs, Bs4DropDownItemContentStylingMethodCss };"]}