{"version":3,"sources":["../../js/src/Tools.js","../../js/src/Bs4AdapterCss.js","../../js/src/Bs4AdapterJs.js","../../js/src/MultiSelect.js","../../js/src/Bs4Adapter.js","../../js/src/BsMultiSelect.js","../../js/src/Bs4SelectedItemContent.js","../../js/src/Bs4DropDownItemContent.js","../../js/src/AddToJQueryPrototype.js","../../js/src/OptionsAdapters.js","../../js/src/LabelAdapter.js"],"names":["ExtendIfUndefined","destination","source","property","undefined","ExtendIfUndefinedFluent","defaults","selectedPanelFocusClass","selectedPanelDisabledClass","dropDownItemDisabledClass","defSelectedPanelStyle","margin-bottom","height","selectedPanelDefMinHeight","selectedPanelLgMinHeight","selectedPanelSmMinHeight","selectedPanelDisabledBackgroundColor","selectedPanelFocusBorderColor","selectedPanelFocusBoxShadow","selectedPanelFocusValidBoxShadow","selectedPanelFocusInvalidBoxShadow","filterInputColor","defSelectedPanelStyleSys","display","flex-wrap","list-style-type","defFilterInputStyleSys","width","border","padding","outline","background-color","defDropDownMenuStyleSys","getIsValid","getIsInvalid","label","MultiSelect","optionsAdapter","adapter","bs4SelectedItemContent","bs4DropDownItemContent","labelAdapter","configuration","onDispose","window","$","Popper","TypeError","this","container","document","selectedPanel","filterInputItem","filterInput","dropDownMenu","popper","getDisabled","selectedPanelClick","documentMouseup","containerMousedown","documentMouseup2","disabled","filterInputItemOffsetLeft","skipFocusout","hoveredDropDownItem","hoveredDropDownIndex","hasDropDownVisible","$document","init","updateDropDownPosition","force","offsetLeft","update","hideDropDown","style","showDropDown","resetDropDownMenuHover","HoverOut","filterDropDownMenu","_this","text","value","trim","toLowerCase","visible","find","each","i","dropDownMenuItem","$dropDownMenuItem","show","itemText","data","option","selected","hidden","indexOf","hide","visibleNodeListArray","getVisibleNodeListArray","hoverInInternal","clearFilterInput","updatePosition","input","closeDropDown","appendDropDownItem","optionElement","_this2","isHidden","$dropDownItem","prop","appendTo","dropDownItem","get","adjustDropDownItem","CreateDropDownItemContent","isDisabled","disabledStyle","disable","onSelected","toggleItem","focus","selectItem","doPublishEvents","$selectedItem","selectedItem","adjustPair","isSelected","toggle","remove","select","removeItem","triggerChange","bsSelectedItemContent","CreateSelectedItemContent","jqEvent","setTimeout","ProcessedBySelectedItemContentEvent","insertBefore","mouseover","HoverIn","mouseout","toArray","index","keydownArrow","down","length","newIndex","forceUpdatePosition","Update","$selectedPanel","UpdateIsValid","UpdateSizeImpl","UpdateDisabledImpl","Dispose","unbind","dispose","destroy","UpdateSize","UpdateDisabled","$container","Disable","e","Enable","mousedown","mouseup","click","_this3","createElement","css","$filterInputItem","$filterInput","$dropDownMenu","event","target","contains","nodeName","val","originalEvent","Init","afterContainerFilled","placement","modifiers","preventOverflow","enabled","flip","options","el","focusin","FocusIn","focusout","FocusOut","on","which","preventDefault","$penult","prev","dropDownItems","querySelectorAll","it","textContent","containerClass","dropDownMenuClass","dropDownItemClass","dropDownItemHoverClass","selectedPanelClass","selectedItemClass","removeSelectedItemButtonClass","filterInputItemClass","filterInputClass","Bs4Adapter","stylingAdapter","dom","addClass","OnInit","removeClass","Bs4SelectedItemContentCss","selectedItemContentDisabledClass","DisableSelectedItemContent","$content","defSelectedItemStyle","padding-left","line-height","defRemoveSelectedItemButtonStyle","font-size","Bs4SelectedItemContentJs","selectedItemContentDisabledOpacity","$button","Bs4SelectedItemContent","createSelectedItemContent","optionItem","removeSelectedItem","skipProcessingEvent","Bs4DropDownItemContentCss","DisabledStyle","$checkBox","$checkBoxLabel","isDisbaled","Bs4DropDownItemContentJs","dropdDownLabelDisabledColor","Bs4DropDownItemContent","createDropDownItemContent","$dropDownItemContent","pluginName","createPlugin","firstChar","charAt","firstCharLower","prototypableName","slice","noConflictPrototypable","fn","dataKey","prototypable","$e","instance","isMethodName","test","removeData","methodName","noConflict","AddToJQueryPrototype","element","settings","extend","buildConfiguration","firstChild","removeChild","trigger","OptionsAdapterJson","hasOwnProperty","createInputId","id","classList","$formGroup","closest","$label","getAttribute","selectElement","$selectElement","parentNode","nextSibling","OptionsAdapterElement","name","backupForId","newForId","attr","setAttribute","LabelAdapter","useCss","StylingBs4AdapterCss","hasClass","StylingBs4AdapterJs","stylingAdapter2","stylingAdapter3"],"mappings":"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","sourcesContent":["export function ExtendIfUndefined(destination, source) {\r\n    for (var property in source)\r\n        if (destination[property] === undefined)\r\n            destination[property] = source[property];\r\n}\r\n\r\nexport function ExtendIfUndefinedFluent(destination, source) {\r\n    ExtendIfUndefined(destination, source);\r\n    return destination;\r\n}","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defaults = {\r\n    selectedPanelFocusClass : 'focus',\r\n    selectedPanelDisabledClass: 'disabled',\r\n    dropDownItemDisabledClass: 'disabled'\r\n};\r\n\r\nfunction StylingBs4AdapterCss(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        Enable($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelFocusClass);\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelFocusClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default StylingBs4AdapterCss;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defSelectedPanelStyle = {'margin-bottom': '0', 'height': 'auto'};\r\n\r\nconst defaults = {\r\n    selectedPanelDefMinHeight: 'calc(2.25rem + 2px)',\r\n    selectedPanelLgMinHeight:  'calc(2.875rem + 2px)',\r\n    selectedPanelSmMinHeight:  'calc(1.8125rem + 2px)',\r\n    selectedPanelDisabledBackgroundColor: '#e9ecef',\r\n    selectedPanelFocusBorderColor: '#80bdff',\r\n    selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)',\r\n    selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)',\r\n    selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',\r\n    filterInputColor: '#495057',\r\n    //selectedItemContentDisabledOpacity: '.65'\r\n};\r\n\r\nfunction StylingBs4AdapterJs(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        OnInit(dom){\r\n            dom.selectedPanel.css(defSelectedPanelStyle);\r\n            dom.filterInput.css(\"color\", configuration.filterInputColor);\r\n        },\r\n    \r\n        UpdateSize($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"form-control-lg\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelLgMinHeight);\r\n            } else if ($selectedPanel.hasClass(\"form-control-sm\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelSmMinHeight);\r\n            } else {\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelDefMinHeight);\r\n            }\r\n        },\r\n    \r\n        Enable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", \"\")\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", configuration.selectedPanelDisabledBackgroundColor)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"is-valid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusValidBoxShadow);\r\n            } else if ($selectedPanel.hasClass(\"is-invalid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusInvalidBoxShadow);\r\n            } else {\r\n                $selectedPanel\r\n                    .css(\"box-shadow\", configuration.selectedPanelFocusBoxShadow)\r\n                    .css(\"border-color\", configuration.selectedPanelFocusBorderColor);\r\n            }\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n                $selectedPanel.css(\"box-shadow\", \"\" ).css(\"border-color\", \"\")\r\n        },\r\n    }\r\n}\r\n\r\n\r\nexport default StylingBs4AdapterJs;\r\n","import Popper from 'popper.js'\r\nimport { ExtendIfUndefinedFluent } from './Tools';\r\n\r\nconst defSelectedPanelStyleSys = {'display':'flex', 'flex-wrap':'wrap', 'list-style-type':'none'};  // remove bullets since this is ul\r\nconst defFilterInputStyleSys   = {'width':'2ch', 'border':'0', 'padding':'0', 'outline':'none', 'background-color':'transparent' };\r\nconst defDropDownMenuStyleSys  = {'list-style-type':'none'}; // remove bullets since this is ul\r\n\r\nconst defaults = {\r\n    getIsValid(){return false},\r\n    getIsInvalid(){return false},\r\n    label:null\r\n}\r\n\r\n// jQuery used for:\r\n// $.extend, $.contains, $(\"<div>\"), $(function(){}) aka ready\r\n// $e.trigger, $e.unbind, $e.on; but namespaces are not used;\r\n// events: \"focusin\", \"focusout\", \"mouseover\", \"mouseout\", \"keydown\", \"keyup\", \"click\"\r\n// $e.show, $e.hide, $e.focus, $e.css\r\n// $e.appendTo, $e.remove, $e.find, $e.closest, $e.prev, $e.data, $e.val\r\n\r\nclass MultiSelect {\r\n    constructor(optionsAdapter, adapter, bs4SelectedItemContent, bs4DropDownItemContent, labelAdapter, configuration, onDispose, window, $) {\r\n        if (typeof Popper === 'undefined') {\r\n            throw new TypeError('DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)')\r\n        }\r\n        // readonly\r\n        this.optionsAdapter = optionsAdapter;\r\n        this.container = optionsAdapter.container; // part of published api\r\n        this.adapter = adapter;\r\n        this.labelAdapter=labelAdapter;\r\n        this.window = window;\r\n        this.document = window.document;\r\n        this.onDispose=onDispose;\r\n        this.$ = $;\r\n        \r\n        this.configuration = ExtendIfUndefinedFluent(configuration, defaults);;\r\n        \r\n        this.selectedPanel = null;\r\n        this.filterInputItem = null;\r\n        this.filterInput = null;\r\n        this.dropDownMenu = null;\r\n        this.popper = null;\r\n        this.getDisabled=null;\r\n        \r\n        // removable handlers\r\n        this.selectedPanelClick  = null;\r\n        this.documentMouseup = null;\r\n        this.containerMousedown = null;\r\n        this.documentMouseup2 = null;\r\n        \r\n        // state\r\n        this.disabled = null;\r\n        this.filterInputItemOffsetLeft = null; // used to detect changes in input field position (by comparision with current value)\r\n        this.skipFocusout = false;\r\n        this.hoveredDropDownItem = null;\r\n        this.hoveredDropDownIndex = null;\r\n        this.hasDropDownVisible = false;\r\n        this.bs4SelectedItemContent=bs4SelectedItemContent;\r\n        this.bs4DropDownItemContent=bs4DropDownItemContent;\r\n\r\n        // jquery adapters\r\n        this.$document = $(this.document);\r\n\r\n        \r\n        //optionsAdapter(this.fillContainer, this.init);\r\n        this.init();\r\n    }\r\n\r\n    updateDropDownPosition(force) {\r\n        let offsetLeft = this.filterInputItem.offsetLeft;\r\n        if (force || this.filterInputItemOffsetLeft!=offsetLeft){\r\n            this.popper.update();\r\n            this.filterInputItemOffsetLeft=offsetLeft;\r\n        }\r\n    }\r\n    hideDropDown() {\r\n        this.dropDownMenu.style.display = 'none';\r\n    }\r\n    showDropDown() {\r\n        this.dropDownMenu.style.display = 'block';\r\n    }\r\n    // Public methods\r\n    resetDropDownMenuHover() {\r\n        if (this.hoveredDropDownItem !== null) {\r\n            this.adapter.HoverOut(this.$(this.hoveredDropDownItem));\r\n            this.hoveredDropDownItem = null;\r\n            this.hoveredDropDownIndex = null;\r\n        }\r\n    }\r\n\r\n    filterDropDownMenu() {\r\n        let text = this.filterInput.value.trim().toLowerCase();\r\n        let visible = 0;\r\n        this.$(this.dropDownMenu).find('LI').each((i, dropDownMenuItem) => {\r\n            let $dropDownMenuItem = this.$(dropDownMenuItem);\r\n            if (text == '') {\r\n                $dropDownMenuItem.show();\r\n                visible++;\r\n            }\r\n            else {\r\n                let itemText = $dropDownMenuItem.data(\"option-text\");\r\n                let option = $dropDownMenuItem.data(\"option\");\r\n                if (!option.selected && !option.hidden && !option.disabled && itemText.indexOf(text)>=0) {\r\n                    $dropDownMenuItem.show();\r\n                    visible++;\r\n                } else {\r\n                    $dropDownMenuItem.hide();\r\n                }\r\n            }\r\n        });\r\n        this.hasDropDownVisible = visible > 0;\r\n        this.resetDropDownMenuHover();\r\n        if (visible == 1) {\r\n            let visibleNodeListArray = this.getVisibleNodeListArray();\r\n            this.hoverInInternal(visibleNodeListArray, 0)\r\n        }\r\n    }\r\n\r\n    clearFilterInput(updatePosition) {\r\n        if (this.filterInput.value) {\r\n            this.filterInput.value = '';\r\n            this.input(updatePosition);\r\n        }\r\n    }\r\n\r\n    closeDropDown() {\r\n        this.resetDropDownMenuHover();\r\n        this.clearFilterInput(true);\r\n        this.hideDropDown();\r\n    }\r\n    \r\n    appendDropDownItem(optionElement) {\r\n        let isHidden = optionElement.hidden;\r\n        let itemText = optionElement.text;\r\n        let $dropDownItem = this.$(\"<LI/>\").prop(\"hidden\", isHidden)\r\n        $dropDownItem.data(\"option-text\", itemText.toLowerCase()).appendTo(this.dropDownMenu);\r\n        $dropDownItem.data(\"option\", optionElement);\r\n        let dropDownItem = $dropDownItem.get(0);\r\n        \r\n        //let optionData = {\"optionId\":optionElement.value, \"itemText\": optionElement.text }\r\n        let adjustDropDownItem = this.bs4DropDownItemContent.CreateDropDownItemContent(dropDownItem, optionElement); \r\n        let isDisabled = optionElement.disabled;\r\n        let isSelected = optionElement.selected;\r\n\r\n        if (isSelected && isDisabled)\r\n            adjustDropDownItem.disabledStyle(true);\r\n        else if (isDisabled)\r\n            adjustDropDownItem.disable(isDisabled);\r\n       \r\n        adjustDropDownItem.onSelected(() => {\r\n            let toggleItem = $dropDownItem.data(\"option-toggle\");\r\n            toggleItem();\r\n            this.filterInput.focus();\r\n        });\r\n        \r\n        let selectItem = (doPublishEvents) => {\r\n            if (optionElement.hidden)\r\n                return;\r\n            let $selectedItem = this.$(\"<LI/>\");\r\n            let selectedItem = $selectedItem.get(0);\r\n            \r\n            let adjustPair =(isSelected, toggle, remove, disable) => {\r\n                optionElement.selected = isSelected;\r\n                adjustDropDownItem.select(isSelected);\r\n                $dropDownItem.data(\"option-toggle\", toggle);                    \r\n                $selectedItem.data(\"option-remove\", remove);\r\n                $selectedItem.data(\"option-disable\", disable);\r\n            }\r\n\r\n            let removeItem = () => {\r\n                adjustDropDownItem.disabledStyle(false);\r\n                adjustDropDownItem.disable(optionElement.disabled);\r\n                adjustPair(\r\n                    false, \r\n                    () => {\r\n                        if (optionElement.disabled)\r\n                            return;\r\n                        selectItem(true);\r\n                    }, \r\n                    null,\r\n                    null\r\n                    );\r\n                $selectedItem.remove();\r\n                this.optionsAdapter.triggerChange();\r\n            };\r\n            \r\n            // what is a problem with calling removeSelectedItem directly (not using  setTimeout(removeSelectedItem, 0)):\r\n            // consider situation \"MultiSelect\" on DROPDOWN (that should be closed on the click outside dropdown)\r\n            // therefore we aslo have document's click's handler where we decide to close or leave the DROPDOWN open.\r\n            // because of the event's bubling process removeSelectedItem runs first. \r\n            // that means the event's target element on which we click (the x button) will be removed from the DOM together with badge \r\n            // before we could analize is it belong to our dropdown or not.\r\n            // important 1: we can't just the stop propogation using stopPropogate because click outside dropdown on the similar \r\n            // component that use stopPropogation will not close dropdown (error, dropdown should be closed)\r\n            // important 2: we can't change the dropdown's event handler to leave dropdown open if event's target is null because of\r\n            // the situation described above: click outside dropdown on the same component.\r\n            // Alternatively it could be possible to use stopPropogate but together create custom click event setting new target that belomgs to DOM (e.g. panel)\r\n\r\n            let removeItemAndCloseDropDown = () => {\r\n                removeItem();\r\n                this.closeDropDown();\r\n            };\r\n\r\n            let onRemoveItemEvent = (jqEvent) => {\r\n                setTimeout( ()=> {  \r\n                    removeItem();\r\n                    this.closeDropDown();\r\n                }, 0);\r\n                this.ProcessedBySelectedItemContentEvent=jqEvent;\r\n            };\r\n\r\n            let bsSelectedItemContent = this.bs4SelectedItemContent.CreateSelectedItemContent(\r\n                selectedItem,\r\n                optionElement,\r\n                onRemoveItemEvent\r\n            );\r\n            //bsSelectedItemContentList.push(bsSelectedItemContent);\r\n            bsSelectedItemContent.disable(this.disabled);\r\n            adjustPair(true, ()=>removeItem(), removeItemAndCloseDropDown, bsSelectedItemContent.disable);\r\n            $selectedItem.insertBefore(this.filterInputItem);\r\n            if (doPublishEvents){\r\n                this.optionsAdapter.triggerChange();\r\n            }\r\n        }\r\n\r\n        $dropDownItem\r\n            .mouseover(() => this.adapter.HoverIn($dropDownItem))\r\n            .mouseout(() => this.adapter.HoverOut($dropDownItem));\r\n        \r\n        if (optionElement.selected)\r\n            selectItem(false);\r\n        else\r\n            $dropDownItem.data(\"option-toggle\",  () => { \r\n                if (optionElement.disabled)\r\n                    return;\r\n                selectItem(true);\r\n            })\r\n    }\r\n    getVisibleNodeListArray(){\r\n        return this.$(this.dropDownMenu).find('LI:not([style*=\"display: none\"]):not(:hidden)').toArray();\r\n    }\r\n    hoverInInternal(visibleNodeListArray, index){\r\n        this.hoveredDropDownIndex = index;\r\n        this.hoveredDropDownItem = visibleNodeListArray[index];\r\n        this.adapter.HoverIn(this.$(this.hoveredDropDownItem));\r\n    }\r\n    keydownArrow(down) {\r\n        let visibleNodeListArray = this.getVisibleNodeListArray();\r\n        if (visibleNodeListArray.length > 0) {\r\n            if (this.hasDropDownVisible) {\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            let index;\r\n            if (this.hoveredDropDownItem === null) {\r\n                index = down ? 0 : visibleNodeListArray.length - 1;\r\n            }\r\n            else {\r\n                this.adapter.HoverOut(this.$(this.hoveredDropDownItem));\r\n                if (down) {\r\n                    let newIndex = this.hoveredDropDownIndex + 1;\r\n                    index = newIndex < visibleNodeListArray.length ? newIndex : 0;\r\n                } else {\r\n                    let newIndex = this.hoveredDropDownIndex - 1;\r\n                    index = newIndex >= 0 ? newIndex : visibleNodeListArray.length - 1;\r\n                }\r\n            }\r\n            this.hoverInInternal(visibleNodeListArray, index);\r\n        }\r\n    }\r\n    input(forceUpdatePosition) {\r\n        this.filterInput.style.width = this.filterInput.value.length*1.3 + 2 + \"ch\";\r\n        this.filterDropDownMenu();\r\n\r\n        if (this.hasDropDownVisible) {\r\n            if (forceUpdatePosition) // ignore it if it is called from\r\n                this.updateDropDownPosition(forceUpdatePosition); // we need it to support case when textbox changes its place because of line break (texbox grow with each key press)\r\n            this.showDropDown();\r\n        } else {\r\n            this.hideDropDown();\r\n        }\r\n    }\r\n    Update(){\r\n        let $selectedPanel = this.$(this.selectedPanel);\r\n        this.adapter.UpdateIsValid($selectedPanel);\r\n        this.UpdateSizeImpl($selectedPanel);\r\n        this.UpdateDisabledImpl(this.$(this.optionsAdapter.container), $selectedPanel);\r\n    }\r\n    Dispose(){\r\n        if (this.onDispose)\r\n            this.onDispose();\r\n        \r\n        // removable handlers\r\n        this.$document.unbind(\"mouseup\", this.documentMouseup)\r\n                      .unbind(\"mouseup\", this.documentMouseup2);\r\n        \r\n        this.labelAdapter.dispose();\r\n        // if (this.adapter && this.adapter.Dispose) {\r\n        //     this.adapter.Dispose()\r\n        // }\r\n        if (this.popper !== null) {\r\n            this.popper.destroy()\r\n        }\r\n        \r\n        if (this.optionsAdapter.dispose) {\r\n            this.optionsAdapter.dispose();\r\n        }\r\n    }\r\n    UpdateSize(){\r\n        this.UpdateSizeImpl(this.$(this.selectedPanel));\r\n    }\r\n    UpdateDisabled(){\r\n        this.UpdateDisabledImpl(this.$(this.container), this.$(this.selectedPanel));\r\n    }\r\n    UpdateSizeImpl($selectedPanel){\r\n        if (this.adapter.UpdateSize)\r\n            this.adapter.UpdateSize($selectedPanel);\r\n    }\r\n    UpdateDisabledImpl($container, $selectedPanel){\r\n        let disabled = this.optionsAdapter.getDisabled();\r\n        if (this.disabled!==disabled){\r\n            if (disabled) {\r\n                this.filterInput.style.display = \"none\";\r\n                this.adapter.Disable($selectedPanel);\r\n                $selectedPanel.find('LI').each( \r\n                    function (i, e) {let disable = $(e).data(\"option-disable\"); if (disable!=null) disable(true); } );\r\n                    \r\n                $container.unbind(\"mousedown\", this.containerMousedown);\r\n                this.$document.unbind(\"mouseup\", this.documentMouseup);\r\n\r\n                $selectedPanel.unbind(\"click\", this.selectedPanelClick);\r\n                this.$document.unbind(\"mouseup\", this.documentMouseup2);\r\n                \r\n            } else {\r\n                this.filterInput.style.display = \"inline-block\";\r\n                this.adapter.Enable($selectedPanel);\r\n                $selectedPanel.find('LI').each( \r\n                    function (i, e) {let disable = $(e).data(\"option-disable\"); if (disable!=null) disable(false);} );\r\n\r\n                $container.mousedown(this.containerMousedown); // removable\r\n                this.$document.mouseup(this.documentMouseup);  // removable\r\n\r\n                $selectedPanel.click(this.selectedPanelClick); // removable\r\n                this.$document.mouseup(this.documentMouseup2); // removable\r\n            }\r\n            this.disabled=disabled;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        let container = this.optionsAdapter.container;\r\n        let $container = this.$(container);\r\n        this.selectedPanel = this.document.createElement(\"ul\");\r\n        let $selectedPanel = this.$(this.selectedPanel);\r\n        $selectedPanel.css(defSelectedPanelStyleSys);\r\n        $selectedPanel.appendTo(container);\r\n        let $filterInputItem = this.$('<LI/>');\r\n        this.filterInputItem = $filterInputItem.get(0)\r\n        $filterInputItem.appendTo(this.selectedPanel);\r\n        let $filterInput = this.$('<INPUT type=\"search\" autocomplete=\"off\">');\r\n        this.filterInput = $filterInput.get(0);\r\n        $filterInput.css(defFilterInputStyleSys);\r\n        $filterInput.appendTo(this.filterInputItem);\r\n        \r\n        let $dropDownMenu = this.$(\"<UL/>\").css({\"display\":\"none\"});\r\n        $dropDownMenu.appendTo(container);\r\n        this.dropDownMenu = $dropDownMenu.get(0);\r\n        \r\n        // prevent heavy understandable styling error\r\n        $dropDownMenu.css(defDropDownMenuStyleSys);\r\n        // create handlers\r\n        this.documentMouseup = () => {\r\n            this.skipFocusout = false;\r\n        }\r\n\r\n        this.containerMousedown = () => {\r\n            this.skipFocusout = true;\r\n        };\r\n        this.documentMouseup2 = event => {\r\n            if (!(container === event.target || this.$.contains(container, event.target))) {\r\n                this.closeDropDown();\r\n            }\r\n        }\r\n        this.selectedPanelClick = jqEvent => {\r\n            if (jqEvent.target.nodeName != \"INPUT\")\r\n                this.$(this.filterInput).val('').focus();\r\n            if (this.hasDropDownVisible &&  (this.ProcessedBySelectedItemContentEvent==null || this.ProcessedBySelectedItemContentEvent.originalEvent!=jqEvent.originalEvent)){\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            this.ProcessedBySelectedItemContentEvent=null;\r\n        };\r\n        this.adapter.Init({\r\n            container:$container, selectedPanel:$selectedPanel,\r\n            filterInputItem:$filterInputItem, filterInput:$filterInput,\r\n            dropDownMenu:$dropDownMenu });\r\n        \r\n        this.labelAdapter.init($filterInput); \r\n\r\n        if (this.optionsAdapter.afterContainerFilled)\r\n            this.optionsAdapter.afterContainerFilled();\r\n        this.popper = new Popper(this.filterInput, this.dropDownMenu, {\r\n            placement: 'bottom-start',\r\n            modifiers: {\r\n                preventOverflow: {enabled:false},\r\n                hide: {enabled:false},\r\n                flip: {enabled:false}\r\n                }\r\n        });\r\n        \r\n        this.adapter.UpdateIsValid($selectedPanel);\r\n        \r\n        this.UpdateSizeImpl($selectedPanel);\r\n        this.UpdateDisabledImpl($container, $selectedPanel);\r\n        // some browsers (IE11) can change select value (as part of \"autocomplete\") after page is loaded but before \"ready\" event\r\n        // FYI: $(() => { ...}) is jquery ready event shortcut\r\n        this.$(() => {\r\n            let options = this.optionsAdapter.options;\r\n            this.$.each(options,\r\n                (index, el) => {\r\n                    this.appendDropDownItem(el);\r\n                }\r\n            );\r\n            this.hasDropDownVisible = options.length > 0;\r\n            this.updateDropDownPosition(false);\r\n        });\r\n        // there was unmotivated stopPropagation call. commented out.\r\n        // $dropDownMenu.click(  event => { \r\n        //    event.stopPropagation();\r\n        // });\r\n        $dropDownMenu.mouseover(() => this.resetDropDownMenuHover());\r\n\r\n        $filterInput.focusin(() => this.adapter.FocusIn($selectedPanel))\r\n                    .focusout(() => {\r\n                            if (!this.skipFocusout)\r\n                                this.adapter.FocusOut($selectedPanel)\r\n                            });\r\n        $filterInput.on(\"keydown\", (event) => {\r\n            if ([38, 40, 13].indexOf(event.which)>=0 || (event.which == 9 && this.filterInput.value) ) {\r\n                event.preventDefault();\r\n            }\r\n\r\n            if (event.which == 38) {\r\n                this.keydownArrow(false);\r\n            }\r\n            else if (event.which == 40) {\r\n                if (this.hoveredDropDownItem === null && this.hasDropDownVisible) {\r\n                    this.showDropDown();\r\n                }\r\n                this.keydownArrow(true);\r\n            }\r\n            else if (event.which == 9) {\r\n                if (!this.filterInput.value) {\r\n                    this.closeDropDown();\r\n                }\r\n            }\r\n            else if (event.which == 8) {\r\n                // NOTE: this will process backspace only if there are no text in the input field\r\n                // If user will find this inconvinient, we will need to calculate something like this\r\n                // this.isBackspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\r\n                if (!this.filterInput.value)\r\n                {\r\n                    let $penult = this.$(this.selectedPanel).find(\"LI:last\").prev();\r\n                    if ($penult.length){\r\n                        let removeItem = $penult.data(\"option-remove\");\r\n                        removeItem();\r\n                    }\r\n                    this.updateDropDownPosition(false);\r\n                }\r\n            }\r\n\r\n            if ([38, 40, 13, 9].indexOf(event.which)==-1)\r\n                this.resetDropDownMenuHover();\r\n        });\r\n        $filterInput.on(\"keyup\", (event) => {\r\n            if (event.which == 13 || event.which == 9 ) {\r\n                if (this.hoveredDropDownItem) {\r\n                    let $hoveredDropDownItem = this.$(this.hoveredDropDownItem);\r\n                    let toggleItem =  $hoveredDropDownItem.data(\"option-toggle\");\r\n                    toggleItem();\r\n                    this.closeDropDown();\r\n                } else {\r\n                    let text = this.filterInput.value.trim().toLowerCase();\r\n                    let dropDownItems = this.dropDownMenu.querySelectorAll(\"LI\");\r\n                    let dropDownItem = null;\r\n                    for (let i = 0; i < dropDownItems.length; ++i) {\r\n                        let it = dropDownItems[i];\r\n                        if (it.textContent.trim().toLowerCase() == text)\r\n                        {\r\n                            dropDownItem=it;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (dropDownItem) {\r\n                        let $dropDownItem = this.$(dropDownItem);\r\n                        let option = $dropDownItem.data(\"option\");\r\n                        if (!option.selected){\r\n                            let toggle = $dropDownItem.data(\"option-toggle\");\r\n                            toggle();\r\n                        }\r\n                        this.clearFilterInput(true);\r\n                    }\r\n                }\r\n            }\r\n            else if (event.which == 27) { // escape\r\n                this.closeDropDown();\r\n            }\r\n        });\r\n        $filterInput.on('input', () => {\r\n            this.input(true);\r\n        });\r\n    }\r\n}\r\n\r\nexport default MultiSelect;\r\n","import  { ExtendIfUndefinedFluent } from './Tools';\r\n\r\n// addClass, removeClass, css, siblings('label'), hasClass, find('BUTTON').prop(..)\r\nconst defaults = {\r\n    containerClass: 'dashboardcode-bsmultiselect',\r\n    dropDownMenuClass: 'dropdown-menu',\r\n    dropDownItemClass:  'px-2',\r\n    dropDownItemHoverClass: 'text-primary bg-light',\r\n    selectedPanelClass: 'form-control',\r\n    selectedItemClass: 'badge',\r\n    removeSelectedItemButtonClass: 'close',\r\n    filterInputItemClass: '',\r\n    filterInputClass: ''\r\n}\r\n\r\nclass Bs4Adapter {\r\n\r\n    constructor(stylingAdapter, configuration){\r\n        this.stylingAdapter = stylingAdapter;\r\n        this.configuration = ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n   \r\n    Init(dom){\r\n        dom.container.addClass(this.configuration.containerClass);\r\n        dom.selectedPanel.addClass(this.configuration.selectedPanelClass);\r\n        dom.dropDownMenu.addClass(this.configuration.dropDownMenuClass);\r\n        dom.filterInputItem.addClass(this.configuration.filterInputItemClass);\r\n        dom.filterInput.addClass(this.configuration.filterInputClass);\r\n        if (this.stylingAdapter.OnInit)\r\n            this.stylingAdapter.OnInit(dom)\r\n    }\r\n\r\n    // handleLabel($filterInput){\r\n    //     var label = this.configuration.label;\r\n    //     if (label!=null) {\r\n    //         var newForId = this.configuration.createInputId();\r\n    //         var backupForId =  label.getAttribute('for');\r\n    //         $filterInput.attr('id', newForId);\r\n    //         label.setAttribute('for',newForId);\r\n    //         return () => {\r\n    //             label.setAttribute('for',backupForId);\r\n    //         }\r\n    //     }\r\n    //     return null;\r\n    // }\r\n\r\n    // Dispose(){\r\n    //     if (this.bs4LabelDispose)\r\n    //         this.bs4LabelDispose();\r\n    // }\r\n\r\n    UpdateIsValid($selectedPanel){\r\n        if (this.configuration.getIsValid()){\r\n            $selectedPanel.addClass(\"is-valid\");\r\n        }\r\n\r\n        if (this.configuration.getIsInvalid()){\r\n            $selectedPanel.addClass(\"is-invalid\");\r\n        }\r\n    }\r\n\r\n    UpdateSize($selectedPanel){\r\n        if(this.stylingAdapter.UpdateSize)\r\n            this.stylingAdapter.UpdateSize($selectedPanel)\r\n    }\r\n\r\n    HoverIn($dropDownItem){\r\n        $dropDownItem.addClass(this.configuration.dropDownItemHoverClass);\r\n    }\r\n\r\n    HoverOut($dropDownItem){\r\n        $dropDownItem.removeClass(this.configuration.dropDownItemHoverClass);\r\n    }\r\n\r\n    Enable($selectedPanel){\r\n        this.stylingAdapter.Enable($selectedPanel)\r\n    }\r\n\r\n    Disable($selectedPanel){\r\n        this.stylingAdapter.Disable($selectedPanel)\r\n    }\r\n\r\n    FocusIn($selectedPanel){\r\n        this.stylingAdapter.FocusIn($selectedPanel)\r\n    }\r\n\r\n    FocusOut($selectedPanel){\r\n        this.stylingAdapter.FocusOut($selectedPanel)\r\n    }\r\n}\r\n\r\nexport default Bs4Adapter;\r\n","import $ from 'jquery'\r\nimport StylingBs4AdapterCss from './Bs4AdapterCss'\r\nimport StylingBs4AdapterJs from './Bs4AdapterJs'\r\nimport MultiSelect from './MultiSelect'\r\nimport AddToJQueryPrototype from './AddToJQueryPrototype'\r\nimport Bs4Adapter from './Bs4Adapter';\r\nimport LabelAdapter from './LabelAdapter';\r\n\r\nimport {OptionsAdapterJson,OptionsAdapterElement} from './OptionsAdapters';\r\n\r\nimport { Bs4SelectedItemContent, Bs4SelectedItemContentJs, Bs4SelectedItemContentCss } from './Bs4SelectedItemContent';\r\nimport { Bs4DropDownItemContent, Bs4DropDownItemContentJs, Bs4DropDownItemContentCss } from './Bs4DropDownItemContent';\r\n\r\n(\r\n    (window, $) => {\r\n        AddToJQueryPrototype('BsMultiSelect',\r\n            (element, settings, onDispose) => {\r\n                let configuration = $.extend({}, settings); // settings used per jQuery intialization, configuration per element\r\n                if (configuration.buildConfiguration)\r\n                    configuration.buildConfiguration(element, configuration);\r\n\r\n                let optionsAdapter = null;\r\n                if (configuration.optionsAdapter)\r\n                    optionsAdapter = configuration.optionsAdapter;\r\n                else\r\n                {\r\n                    if (configuration.options){\r\n                        optionsAdapter = OptionsAdapterJson(element, configuration.options, configuration.hasOwnProperty(\"getDisabled\")?configuration.getDisabled:()=>false, $ );\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-filter-${element.id}`;\r\n            \r\n                    }else {\r\n                        configuration.getIsValid=()=>element.classList.contains('is-valid');\r\n                        configuration.getIsInvalid=()=>element.classList.contains('is-invalid');\r\n                        if (!configuration.label)\r\n                        {\r\n                            let $formGroup = $(element).closest('.form-group');\r\n                            if ($formGroup.length == 1) {\r\n                                let $label = $formGroup.find(`label[for=\"${element.id}\"]`);\r\n                                if ($label.length>0)\r\n                                {   \r\n                                    let label = $label.get(0);\r\n                                    let forId = label.getAttribute('for');\r\n                                    if (forId == element.id) {\r\n                                        configuration.label = label;\r\n                                    }\r\n                                }   \r\n                            }\r\n                        }\r\n                        optionsAdapter = OptionsAdapterElement(element, $);\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-input-${((element.id)?element.id:element.name).toLowerCase()}-id`;\r\n                    }\r\n                }\r\n\r\n                let labelAdapter = LabelAdapter(configuration.label, configuration.createInputId);\r\n\r\n                let adapter=null;\r\n                if (configuration.adapter)\r\n                    adapter = configuration.adapter;\r\n                else\r\n                {\r\n                    let stylingAdapter = configuration.useCss\r\n                        ? StylingBs4AdapterCss(configuration)\r\n                        : StylingBs4AdapterJs(configuration);\r\n                    adapter = new Bs4Adapter(stylingAdapter, configuration);\r\n                }\r\n\r\n                // configuration.createSelectedItemContent = function(selectedItem, optionItem, removeSelectedItem){\r\n                //     let $selectedItem = $(selectedItem)\r\n                //     $selectedItem.addClass(configuration.selectedItemClass);\r\n                //     let $content = this.$(`<span/>`).text(optionItem.text);\r\n                //     $content.appendTo($selectedItem);\r\n                //     if (optionItem.disabled)\r\n                //         this.stylingAdapter.DisableSelectedItemContent($content);\r\n                    \r\n                //     if (this.stylingAdapter.CreateSelectedItemContent)\r\n                //         this.stylingAdapter.CreateSelectedItemContent($selectedItem, null);\r\n                //     return {\r\n                //          disable(isDisabled){  }\r\n                //     };\r\n                // }\r\n\r\n                let stylingAdapter2 = configuration.useCss\r\n                    ? new Bs4SelectedItemContentCss(configuration, $)\r\n                    : new Bs4SelectedItemContentJs(configuration, $);\r\n                let stylingAdapter3 = configuration.useCss\r\n                    ? new Bs4DropDownItemContentCss(configuration, $)\r\n                    : new Bs4DropDownItemContentJs(configuration, $);\r\n                let bs4SelectedItemContent = new Bs4SelectedItemContent(stylingAdapter2, configuration, $);\r\n                let bs4DropDownItemContent = new Bs4DropDownItemContent(stylingAdapter3, configuration, $)\r\n\r\n                \r\n\r\n                let multiSelect = new MultiSelect(optionsAdapter, adapter, bs4SelectedItemContent, bs4DropDownItemContent, labelAdapter, configuration, onDispose, window, $);\r\n                return multiSelect;\r\n            }, $);\r\n    }\r\n)(window, $)\r\n","import  { ExtendIfUndefined, ExtendIfUndefinedFluent } from './Tools';\r\n\r\nclass Bs4SelectedItemContentCss {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisableSelectedItemContent($content){\r\n        $content.addClass(this.configuration.selectedItemContentDisabledClass )\r\n    }\r\n}\r\n\r\nconst defSelectedItemStyle = {'padding-left': '0px', 'line-height': '1.5em'};\r\nconst defRemoveSelectedItemButtonStyle = {'font-size':'1.5em', 'line-height': '.9em'};\r\n\r\nclass Bs4SelectedItemContentJs {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledOpacity: '.65',\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisableSelectedItemContent($content){\r\n        $content.css(\"opacity\", this.configuration.selectedItemContentDisabledOpacity )\r\n    }\r\n    \r\n    CreateSelectedItemContent($selectedItem, $button){\r\n        $selectedItem.css(defSelectedItemStyle);\r\n        if ($button)\r\n            $button.css(defRemoveSelectedItemButtonStyle);\r\n    }\r\n}\r\n\r\nclass Bs4SelectedItemContent {\r\n\r\n    constructor(stylingAdapter, configuration, $){\r\n        const defaults = {\r\n            selectedItemClass: 'badge',\r\n            removeSelectedItemButtonClass: 'close'\r\n        };\r\n        ExtendIfUndefined(configuration, defaults);\r\n        this.stylingAdapter = stylingAdapter;\r\n        this.$ = $;\r\n        \r\n        if (configuration.createSelectedItemContent)\r\n            this.createSelectedItemContent = configuration.createSelectedItemContent;\r\n        else\r\n            this.createSelectedItemContent = (selectedItem, optionItem, removeSelectedItem) => {\r\n                let $selectedItem = $(selectedItem)\r\n                $selectedItem.addClass(configuration.selectedItemClass);\r\n                let $content = this.$(`<span/>`).text(optionItem.text);\r\n                $content.appendTo($selectedItem);\r\n                if (optionItem.disabled)\r\n                    this.stylingAdapter.DisableSelectedItemContent($content);\r\n                let $button = this.$('<button aria-label=\"Close\" tabIndex=\"-1\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>')\r\n                    // bs 'close' class that will be added to button set the float:right, therefore it impossible to configure no-warp policy \r\n                    // with .css(\"white-space\", \"nowrap\") or  .css(\"display\", \"inline-block\"); TODO: migrate to flex? \r\n                    .css(\"float\", \"none\").appendTo($selectedItem)\r\n                    .addClass(configuration.removeSelectedItemButtonClass) // bs close class set the float:right\r\n                    .on(\"click\", (jqEvent) => removeSelectedItem(jqEvent));\r\n                \r\n                if (this.stylingAdapter.CreateSelectedItemContent)\r\n                    this.stylingAdapter.CreateSelectedItemContent($selectedItem, $button);\r\n                return {\r\n                    disable(isDisabled){ $button.prop('disabled', isDisabled); }\r\n                };\r\n            }\r\n    }\r\n\r\n    CreateSelectedItemContent(selectedItem, optionItem, removeSelectedItem, skipProcessingEvent){\r\n        return this.createSelectedItemContent(selectedItem, optionItem, removeSelectedItem, skipProcessingEvent);\r\n    }\r\n}\r\n\r\nexport { Bs4SelectedItemContent, Bs4SelectedItemContentJs, Bs4SelectedItemContentCss };\r\n","import  { ExtendIfUndefined, ExtendIfUndefinedFluent } from './Tools';\r\n\r\nclass Bs4DropDownItemContentCss {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n        if (isDisbaled) \r\n            $checkBox.addClass(this.configuration.dropDownItemDisabledClass);\r\n        else\r\n            $checkBox.removeClass(this.configuration.dropDownItemDisabledClass);\r\n    }\r\n}\r\n\r\nclass Bs4DropDownItemContentJs {\r\n    constructor(configuration) {\r\n        const defaults = {\r\n            selectedItemContentDisabledOpacity: '.65',\r\n            dropdDownLabelDisabledColor: '#6c757d'\r\n        };\r\n        this.configuration=ExtendIfUndefinedFluent(configuration, defaults);\r\n    }\r\n\r\n    DisabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n        $checkBoxLabel.css('color', isDisbaled?this.configuration.dropdDownLabelDisabledColor:'')\r\n    }\r\n}\r\n\r\n// addClass, removeClass, css, siblings('label'), hasClass, find('BUTTON').prop(..)\r\nclass Bs4DropDownItemContent {\r\n\r\n    constructor(stylingAdapter, configuration, $){\r\n        const defaults = {\r\n            dropDownItemClass:  'px-2',\r\n        }\r\n        ExtendIfUndefined(configuration, defaults);\r\n        this.$ = $;\r\n        this.stylingAdapter = stylingAdapter;\r\n\r\n        this.createDropDownItemContent = (dropDownItem, option) => {\r\n            let $dropDownItem = $(dropDownItem);\r\n            $dropDownItem.addClass(configuration.dropDownItemClass);\r\n            let $dropDownItemContent= this.$(`<div class=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" class=\"custom-control-input\">\r\n                <label class=\"custom-control-label\"></label>\r\n            </div>`);\r\n            $dropDownItemContent.appendTo(dropDownItem);\r\n            let $checkBox = $dropDownItemContent.find(`INPUT[type=\"checkbox\"]`);\r\n            let $checkBoxLabel = $dropDownItemContent.find(`label`);\r\n            $checkBoxLabel.text(option.text);\r\n\r\n            return { \r\n                select(isSelected){ $checkBox.prop('checked', isSelected); }, \r\n                disable(isDisabled){ $checkBox.prop('disabled', isDisabled); },\r\n                disabledStyle(isDisbaled){ stylingAdapter.DisabledStyle($checkBox, $checkBoxLabel, isDisbaled); },\r\n                onSelected(toggle) {\r\n                        $checkBox.on(\"change\", toggle)\r\n                        $dropDownItem.on(\"click\", event => {\r\n                            if (dropDownItem === event.target || $.contains(dropDownItem, event.target)) {\r\n                                toggle();\r\n                            }\r\n                        })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // ------------------------------------------------------------------------------------------------\r\n    CreateDropDownItemContent(dropDownItem, option){\r\n        return this.createDropDownItemContent(dropDownItem, option);\r\n    }\r\n }\r\n\r\nexport { Bs4DropDownItemContent, Bs4DropDownItemContentJs, Bs4DropDownItemContentCss };","function AddToJQueryPrototype(pluginName, createPlugin, $){\r\n    const firstChar = pluginName.charAt(0);\r\n    const firstCharLower = firstChar.toLowerCase();\r\n    if (firstCharLower == firstChar) {\r\n        throw new TypeError(`Plugin name '${pluginName}' should be started from upper case char`)\r\n    }\r\n    const prototypableName = firstCharLower + pluginName.slice(1)\r\n    const noConflictPrototypable = $.fn[prototypableName];\r\n    const dataKey = `DashboardCode.${pluginName}`;\r\n\r\n    function prototypable(options) {\r\n        return this.each( function () {\r\n            let $e = $(this);\r\n            let instance = $e.data(dataKey)\r\n            let isMethodName = typeof options === 'string';\r\n            if (!instance) {\r\n                if (isMethodName && /Dispose/.test(options)) {\r\n                    return;\r\n                }\r\n                const optionsObject = (typeof options === 'object')?options:null;\r\n\r\n                instance = createPlugin(this, optionsObject,\r\n                    () => {\r\n                        $e.removeData(dataKey)\r\n                    });\r\n                $e.data(dataKey, instance);\r\n            }\r\n\r\n            if (isMethodName) {\r\n                let methodName = options;\r\n                if (typeof instance[methodName] === 'undefined') {\r\n                    throw new TypeError(`No method named '${methodName}'`)\r\n                }\r\n                instance[methodName]()\r\n            }\r\n        })\r\n    }\r\n\r\n    $.fn[prototypableName] = prototypable;\r\n\r\n    // pluginName with first capitalized letter - return plugin instance for 1st $selected item\r\n    $.fn[pluginName] = function () {\r\n        return $(this).data(dataKey);\r\n    };\r\n\r\n    $.fn[prototypableName].noConflict = function () {\r\n        $.fn[prototypableName] = noConflictPrototypable\r\n        return prototypable;\r\n    }\r\n}\r\n\r\nexport default AddToJQueryPrototype\r\n","function OptionsAdapterJson(container, options, getDisabled, $) {\r\n    var $container = $(container);\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            while (container.firstChild) container.removeChild(container.firstChild);\r\n        },\r\n        triggerChange(){\r\n            $container.trigger( \"multiselect:change\" );\r\n        },\r\n        getDisabled(){\r\n            return getDisabled?getDisabled():false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction OptionsAdapterElement(selectElement, $) {\r\n    var $selectElement = $(selectElement);\r\n    selectElement.style.display='none';\r\n    var container = document.createElement(\"div\");\r\n    var options = $selectElement.find('OPTION');;\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            container.parentNode.removeChild(container);\r\n        },\r\n        afterContainerFilled(){\r\n            selectElement.parentNode.insertBefore(container, selectElement.nextSibling);\r\n        },\r\n        triggerChange(){\r\n            $selectElement.trigger('change');\r\n            $selectElement.trigger(\"multiselect:change\");\r\n        },\r\n        getDisabled(){\r\n            return selectElement.disabled;\r\n        }\r\n    }\r\n}\r\n\r\nexport {OptionsAdapterJson, OptionsAdapterElement};\r\n","function LabelAdapter(label, createInputId){\r\n    var backupForId = label!=null?label.getAttribute('for'):null;\r\n    return {\r\n        init($filterInput) {\r\n            if (label!=null) {\r\n                var newForId = createInputId();\r\n                $filterInput.attr('id', newForId);\r\n                label.setAttribute('for',newForId);\r\n            }\r\n        },\r\n        dispose(){\r\n            if(backupForId)\r\n                label.setAttribute('for',backupForId);\r\n        }\r\n    }\r\n}\r\n\r\nexport default LabelAdapter;"]}